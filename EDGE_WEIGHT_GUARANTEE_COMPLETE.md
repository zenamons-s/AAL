# –û—Ç—á—ë—Ç: –ì–∞—Ä–∞–Ω—Ç–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight –¥–ª—è –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞

## –ü—Ä–æ–±–ª–µ–º–∞

PathFinder –Ω–µ –º–æ–≥ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–ª `distance = Infinity`, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä—ë–±—Ä–∞ –≥—Ä–∞—Ñ–∞ –Ω–µ –∏–º–µ–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —á–∏—Å–ª–æ–≤–æ–≥–æ `weight`:

- **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä—ë–±—Ä–∞ –∏–º–µ–ª–∏ `undefined`, `null`, `NaN` –∏–ª–∏ —Å—Ç—Ä–æ–∫–æ–≤—ã–π weight**: PathFinder –Ω–µ –º–æ–≥ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å–∞
- **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä—ë–±—Ä–∞ –∏–º–µ–ª–∏ –Ω–µ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π weight**: –ê–ª–≥–æ—Ä–∏—Ç–º Dijkstra –Ω–µ –º–æ–≥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª
- **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–µ –∏–º–µ–ª–∏ weight**: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ä—ë–±—Ä–∞ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å PathFinder
- **–†—ë–±—Ä–∞ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –±–µ–∑ –µ–¥–∏–Ω–æ–π –ª–æ–≥–∏–∫–∏**: –ù–µ –±—ã–ª–æ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- PathFinder –Ω–µ –º–æ–≥ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- `distance = Infinity` –¥–ª—è –≤—Å–µ—Ö —É–∑–ª–æ–≤
- –ú–∞—Ä—à—Ä—É—Ç—ã –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –¥–∞–∂–µ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ø—É—Ç–∏ –≤ –≥—Ä–∞—Ñ–µ

## –†–µ—à–µ–Ω–∏–µ

–ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —á–∏—Å–ª–æ–≤–æ–≥–æ `weight` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—Ä–∞ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä—ë–±–µ—Ä. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è `weight` –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∞ –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º.

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è weight –≤ BuildRouteUseCase.addVirtualEdgesToGraph

**–§–∞–π–ª:** `backend/src/application/route-builder/BuildRouteUseCase.ts`

**–ú–µ—Ç–æ–¥:** `addVirtualEdgesToGraph()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ó–∞–º–µ–Ω–µ–Ω–∞ –ø—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º—É–ª–∞ `weight = avgDurationMinutes + distance * 0.1` –Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –ª–æ–≥–∏–∫—É
- –ü—Ä–∞–≤–∏–ª–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è weight:
  1. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π duration –∏–∑ —Ä–µ–π—Å–æ–≤ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
  2. –°—Ä–µ–¥–Ω–∏–π duration (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
  3. –û—Ü–µ–Ω–∫–∞ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
  4. –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 60 –º–∏–Ω—É—Ç (–¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è weight –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–±—Ä–∞
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `isValidWeight()` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–ö–æ–¥:**
```typescript
// –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –í—ã—á–∏—Å–ª—è–µ–º weight —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —á–∏—Å–ª–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
let weight: number;

// –®–∞–≥ 1: –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π duration –∏–∑ —Ä–µ–π—Å–æ–≤
let minDuration: number | undefined = undefined;

if (availableFlights && availableFlights.length > 0) {
  const durations: number[] = [];
  
  for (const flight of availableFlights) {
    try {
      const depTime = new Date(flight.departureTime);
      const arrTime = new Date(flight.arrivalTime);
      const diffMinutes = Math.max(0, (arrTime.getTime() - depTime.getTime()) / (1000 * 60));
      
      if (!isNaN(diffMinutes) && diffMinutes > 0 && diffMinutes < 10000) {
        durations.push(diffMinutes);
      }
    } catch (error) {
      // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞—Ç—ã
      continue;
    }
  }
  
  if (durations.length > 0) {
    minDuration = Math.min(...durations);
  }
}

// –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π duration –∏–∑ —Ä–µ–π—Å–æ–≤, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
if (minDuration !== undefined && minDuration > 0) {
  weight = Math.round(minDuration);
}
// –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ä–µ–¥–Ω–∏–π duration, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
else if (avgDurationMinutes > 0) {
  weight = Math.round(avgDurationMinutes);
}
// –®–∞–≥ 4: –û—Ü–µ–Ω–∏–≤–∞–µ–º –≤—Ä–µ–º—è –≤ –ø—É—Ç–∏ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é (–ø—Ä–∏–º–µ—Ä–Ω–æ 60 –∫–º/—á)
else if (distance > 0) {
  weight = Math.round((distance / 60) * 60);
  weight = Math.max(1, weight);
}
// –®–∞–≥ 5: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ (60 –º–∏–Ω—É—Ç)
else {
  weight = 60;
}

// –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ weight > 0
weight = Math.max(1, weight);

// –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –í–∞–ª–∏–¥–∞—Ü–∏—è weight –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–±—Ä–∞
if (!this.isValidWeight(weight)) {
  console.log(`[BuildRouteUseCase.addVirtualEdgesToGraph] ‚ùå –û–®–ò–ë–ö–ê: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight=${weight} –¥–ª—è —Ä–µ–±—Ä–∞ ${edgeData.fromStopId} -> ${edgeData.toStopId}, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Ä–µ–±—Ä–æ`);
  continue;
}
```

**–ì–∞—Ä–∞–Ω—Ç–∏–∏:**
- ‚úÖ –í—Å–µ —Ä—ë–±—Ä–∞ –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π duration –∏–∑ —Ä–µ–π—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è weight
- ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 60 –º–∏–Ω—É—Ç –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –†—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è

### 2. –ú–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `isValidWeight` –≤ BuildRouteUseCase

**–§–∞–π–ª:** `backend/src/application/route-builder/BuildRouteUseCase.ts`

**–ú–µ—Ç–æ–¥:** `isValidWeight()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ weight –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–±—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ weight —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º, –Ω–µ NaN, –Ω–µ —Å—Ç—Ä–æ–∫–æ–π, –Ω–µ null –∏ > 0

**–ö–æ–¥:**
```typescript
private isValidWeight(weight: any): weight is number {
  if (typeof weight !== 'number') {
    console.log(`[BuildRouteUseCase.isValidWeight] ‚ùå Weight –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º: type=${typeof weight}, value=${weight}`);
    return false;
  }
  
  if (isNaN(weight)) {
    console.log(`[BuildRouteUseCase.isValidWeight] ‚ùå Weight —è–≤–ª—è–µ—Ç—Å—è NaN: ${weight}`);
    return false;
  }
  
  if (!isFinite(weight)) {
    console.log(`[BuildRouteUseCase.isValidWeight] ‚ùå Weight –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω–µ—á–Ω—ã–º —á–∏—Å–ª–æ–º: ${weight}`);
    return false;
  }
  
  if (weight <= 0) {
    console.log(`[BuildRouteUseCase.isValidWeight] ‚ùå Weight –Ω–µ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π: ${weight}`);
    return false;
  }
  
  return true;
}
```

**–ì–∞—Ä–∞–Ω—Ç–∏–∏:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ weight (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å number)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ NaN
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å —á–∏—Å–ª–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (> 0)

### 3. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∞ –≤ RouteGraphBuilder.buildFromDataset

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteGraphBuilder.ts`

**–ú–µ—Ç–æ–¥:** `buildFromDataset()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
- –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞

**–ö–æ–¥:**
```typescript
// –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∞ –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
// –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0
const weightValidationResult = this.validateAllEdgesWeight(graph);
if (weightValidationResult.invalidEdgesCount > 0) {
  console.log(`[RouteGraphBuilder] ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ù–∞–π–¥–µ–Ω–æ ${weightValidationResult.invalidEdgesCount} —Ä—ë–±–µ—Ä —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight!`);
  console.log(`[RouteGraphBuilder] –ü—Ä–∏–º–µ—Ä—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä—ë–±–µ—Ä:`, weightValidationResult.invalidEdges.slice(0, 10));
  throw new Error(`Graph contains ${weightValidationResult.invalidEdgesCount} edges with invalid weight. All edges must have valid numeric weight > 0.`);
} else {
  console.log(`[RouteGraphBuilder] ‚úÖ –í—Å–µ ${weightValidationResult.totalEdgesCount} —Ä—ë–±–µ—Ä –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight`);
}
```

**–ì–∞—Ä–∞–Ω—Ç–∏–∏:**
- ‚úÖ –í—Å–µ —Ä—ë–±—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –≥—Ä–∞—Ñ–∞
- ‚úÖ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, –≥—Ä–∞—Ñ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–µ–±—Ä–∞

### 4. –ú–µ—Ç–æ–¥ `validateAllEdgesWeight` –≤ RouteGraphBuilder

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteGraphBuilder.ts`

**–ú–µ—Ç–æ–¥:** `validateAllEdgesWeight()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–ª–∏–¥–Ω—ã—Ö –∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö —Ä—ë–±–µ—Ä
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `buildFromDataset()` –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –≥—Ä–∞—Ñ–∞

**–ö–æ–¥:**
```typescript
private validateAllEdgesWeight(graph: RouteGraph): {
  totalEdgesCount: number;
  validEdgesCount: number;
  invalidEdgesCount: number;
  invalidEdges: Array<{ fromStopId: string; toStopId: string; weight: any; routeId: string }>;
} {
  const allEdges: Array<{ fromStopId: string; toStopId: string; weight: any; routeId: string }> = [];
  
  // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —Ä—ë–±—Ä–∞ –∏–∑ –≥—Ä–∞—Ñ–∞
  const allNodes = graph.getAllNodes();
  for (const node of allNodes) {
    const edges = graph.getEdgesFrom(node.stopId);
    for (const edge of edges) {
      allEdges.push({
        fromStopId: edge.fromStopId,
        toStopId: edge.toStopId,
        weight: edge.weight,
        routeId: edge.segment.routeId
      });
    }
  }
  
  // –í–∞–ª–∏–¥–∏—Ä—É–µ–º –∫–∞–∂–¥–æ–µ —Ä–µ–±—Ä–æ
  const invalidEdges: Array<{ fromStopId: string; toStopId: string; weight: any; routeId: string }> = [];
  
  for (const edge of allEdges) {
    if (!this.isValidWeight(edge.weight)) {
      invalidEdges.push(edge);
    }
  }
  
  return {
    totalEdgesCount: allEdges.length,
    validEdgesCount: allEdges.length - invalidEdges.length,
    invalidEdgesCount: invalidEdges.length,
    invalidEdges
  };
}
```

**–ì–∞—Ä–∞–Ω—Ç–∏–∏:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∞–ª–∏–¥–Ω—ã—Ö –∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö —Ä—ë–±–µ—Ä
- ‚úÖ –°–ø–∏—Å–æ–∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä—ë–±–µ—Ä –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 5. –ú–µ—Ç–æ–¥ `validateAllEdgesWeight` –≤ RouteGraph

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteGraph.ts`

**–ú–µ—Ç–æ–¥:** `validateAllEdgesWeight()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `RouteGraphManager` –∏ `BuildRouteUseCase` –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –≥—Ä–∞—Ñ–∞

**–ö–æ–¥:**
```typescript
validateAllEdgesWeight(): {
  totalEdgesCount: number;
  validEdgesCount: number;
  invalidEdgesCount: number;
  invalidEdges: Array<{ fromStopId: string; toStopId: string; weight: any; routeId: string }>;
} {
  const allEdges: Array<{ fromStopId: string; toStopId: string; weight: any; routeId: string }> = [];
  
  // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —Ä—ë–±—Ä–∞ –∏–∑ –≥—Ä–∞—Ñ–∞
  const allNodes = this.getAllNodes();
  for (const node of allNodes) {
    const edges = this.getEdgesFrom(node.stopId);
    for (const edge of edges) {
      allEdges.push({
        fromStopId: edge.fromStopId,
        toStopId: edge.toStopId,
        weight: edge.weight,
        routeId: edge.segment.routeId
      });
    }
  }
  
  // –í–∞–ª–∏–¥–∏—Ä—É–µ–º –∫–∞–∂–¥–æ–µ —Ä–µ–±—Ä–æ
  const invalidEdges: Array<{ fromStopId: string; toStopId: string; weight: any; routeId: string }> = [];
  
  for (const edge of allEdges) {
    if (!this.isValidWeight(edge.weight)) {
      invalidEdges.push(edge);
    }
  }
  
  return {
    totalEdgesCount: allEdges.length,
    validEdgesCount: allEdges.length - invalidEdges.length,
    invalidEdgesCount: invalidEdges.length,
    invalidEdges
  };
}
```

**–ì–∞—Ä–∞–Ω—Ç–∏–∏:**
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ RouteGraphManager –∏ BuildRouteUseCase
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∞–ª–∏–¥–Ω—ã—Ö –∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö —Ä—ë–±–µ—Ä

### 6. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∞ –≤ RouteGraphManager.initialize

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteGraphManager.ts`

**–ú–µ—Ç–æ–¥:** `initialize()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–æ—Å–ª–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞

**–ö–æ–¥:**
```typescript
// –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight
// –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0
console.log('[RouteGraphManager] üîç –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight...');
const weightValidationResult = this.graph.validateAllEdgesWeight();
if (weightValidationResult.invalidEdgesCount > 0) {
  console.log(`[RouteGraphManager] ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ù–∞–π–¥–µ–Ω–æ ${weightValidationResult.invalidEdgesCount} —Ä—ë–±–µ—Ä —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight!`);
  console.log(`[RouteGraphManager] –ü—Ä–∏–º–µ—Ä—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä—ë–±–µ—Ä:`, weightValidationResult.invalidEdges.slice(0, 10));
  throw new Error(`Graph contains ${weightValidationResult.invalidEdgesCount} edges with invalid weight. All edges must have valid numeric weight > 0.`);
} else {
  console.log(`[RouteGraphManager] ‚úÖ –í—Å–µ ${weightValidationResult.totalEdgesCount} —Ä—ë–±–µ—Ä –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight`);
}
```

**–ì–∞—Ä–∞–Ω—Ç–∏–∏:**
- ‚úÖ –í—Å–µ —Ä—ë–±—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–æ—Å–ª–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞
- ‚úÖ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–µ–±—Ä–∞

### 7. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∞ –≤ RouteGraphManager.getGraph

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteGraphManager.ts`

**–ú–µ—Ç–æ–¥:** `getGraph()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞

**–ö–æ–¥:**
```typescript
// –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
console.log('[RouteGraphManager] üîç –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º...');
const weightValidationResult = this.graph.validateAllEdgesWeight();
if (weightValidationResult.invalidEdgesCount > 0) {
  console.log(`[RouteGraphManager] ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ù–∞–π–¥–µ–Ω–æ ${weightValidationResult.invalidEdgesCount} —Ä—ë–±–µ—Ä —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight!`);
  console.log(`[RouteGraphManager] –ü—Ä–∏–º–µ—Ä—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä—ë–±–µ—Ä:`, weightValidationResult.invalidEdges.slice(0, 10));
  throw new Error(`Graph contains ${weightValidationResult.invalidEdgesCount} edges with invalid weight. All edges must have valid numeric weight > 0.`);
} else {
  console.log(`[RouteGraphManager] ‚úÖ –í—Å–µ ${weightValidationResult.totalEdgesCount} —Ä—ë–±–µ—Ä –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight`);
}
```

**–ì–∞—Ä–∞–Ω—Ç–∏–∏:**
- ‚úÖ –í—Å–µ —Ä—ë–±—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –≥—Ä–∞—Ñ–∞
- ‚úÖ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, –≥—Ä–∞—Ñ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- ‚úÖ PathFinder –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç –≥—Ä–∞—Ñ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ weight

### 8. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∞ –≤ RouteGraphManager.updateGraph

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteGraphManager.ts`

**–ú–µ—Ç–æ–¥:** `updateGraph()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞

**–ö–æ–¥:**
```typescript
// –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
// –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0
console.log('[RouteGraphManager] üîç –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è...');
const weightValidationResult = this.graph.validateAllEdgesWeight();
if (weightValidationResult.invalidEdgesCount > 0) {
  console.log(`[RouteGraphManager] ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ù–∞–π–¥–µ–Ω–æ ${weightValidationResult.invalidEdgesCount} —Ä—ë–±–µ—Ä —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight!`);
  console.log(`[RouteGraphManager] –ü—Ä–∏–º–µ—Ä—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä—ë–±–µ—Ä:`, weightValidationResult.invalidEdges.slice(0, 10));
  throw new Error(`Graph contains ${weightValidationResult.invalidEdgesCount} edges with invalid weight. All edges must have valid numeric weight > 0.`);
} else {
  console.log(`[RouteGraphManager] ‚úÖ –í—Å–µ ${weightValidationResult.totalEdgesCount} —Ä—ë–±–µ—Ä –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è`);
}
```

**–ì–∞—Ä–∞–Ω—Ç–∏–∏:**
- ‚úÖ –í—Å–µ —Ä—ë–±—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞
- ‚úÖ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–µ–±—Ä–∞

### 9. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∞ –≤ BuildRouteUseCase.executeWithAdaptiveLoading

**–§–∞–π–ª:** `backend/src/application/route-builder/BuildRouteUseCase.ts`

**–ú–µ—Ç–æ–¥:** `executeWithAdaptiveLoading()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ PathFinder
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞

**–ö–æ–¥:**
```typescript
// –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ PathFinder
// –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0
console.log(`[BuildRouteUseCase] üîç –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ PathFinder...`);
const weightValidationResult = graph.validateAllEdgesWeight();
if (weightValidationResult.invalidEdgesCount > 0) {
  console.log(`[BuildRouteUseCase] ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ù–∞–π–¥–µ–Ω–æ ${weightValidationResult.invalidEdgesCount} —Ä—ë–±–µ—Ä —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight!`);
  console.log(`[BuildRouteUseCase] –ü—Ä–∏–º–µ—Ä—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ä—ë–±–µ—Ä:`, weightValidationResult.invalidEdges.slice(0, 10));
  throw new Error(`Graph contains ${weightValidationResult.invalidEdgesCount} edges with invalid weight. All edges must have valid numeric weight > 0.`);
} else {
  console.log(`[BuildRouteUseCase] ‚úÖ –í—Å–µ ${weightValidationResult.totalEdgesCount} —Ä—ë–±–µ—Ä –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight –ø–µ—Ä–µ–¥ PathFinder`);
}
```

**–ì–∞—Ä–∞–Ω—Ç–∏–∏:**
- ‚úÖ –í—Å–µ —Ä—ë–±—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ PathFinder
- ‚úÖ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, PathFinder –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ PathFinder –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç –≥—Ä–∞—Ñ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ weight

## –ì–∞—Ä–∞–Ω—Ç–∏–∏ —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –ö–∞–∂–¥–æ–µ —Ä–µ–±—Ä–æ –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û –∏–º–µ–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π weight

- –í—Å–µ —Ä—ë–±—Ä–∞ –∏–º–µ—é—Ç weight, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º > 0
- –ù–∏ –æ–¥–Ω–æ —Ä–µ–±—Ä–æ –Ω–µ –∏–º–µ–µ—Ç `undefined`, `null`, `NaN`, —Å—Ç—Ä–æ–∫–æ–≤—ã–π weight –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ
- Weight –≤—Å–µ–≥–¥–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º:
  1. –î–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤: weight = duration –≤ –º–∏–Ω—É—Ç–∞—Ö (–∏–∑ —Ä–µ–π—Å–æ–≤ –∏–ª–∏ segment.estimatedDuration)
  2. –ï—Å–ª–∏ duration –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî weight = cost (–∏–∑ segment.basePrice)
  3. –ï—Å–ª–∏ cost –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî weight = 60 (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤)

### ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è weight –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö

- –í–∞–ª–∏–¥–∞—Ü–∏—è weight –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–±—Ä–∞ –≤ `RouteGraphBuilder`
- –í–∞–ª–∏–¥–∞—Ü–∏—è weight –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–±—Ä–∞ –≤ `BuildRouteUseCase`
- –í–∞–ª–∏–¥–∞—Ü–∏—è weight –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Ä–µ–±—Ä–∞ –≤ –≥—Ä–∞—Ñ –≤ `RouteGraph.addEdge`
- –í–∞–ª–∏–¥–∞—Ü–∏—è weight –≤ –º–µ—Ç–æ–¥–µ `updateFromDataset`
- –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º

### ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π duration –∏–∑ —Ä–µ–π—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è weight

- –ï—Å–ª–∏ —Ä–µ–±—Ä–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ —Ä–µ–π—Å–æ–≤, –±–µ—Ä—ë—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π duration —Å—Ä–µ–¥–∏ —Ä–µ–π—Å–æ–≤
- –ï—Å–ª–∏ –≤ —Ä–µ–π—Å–∞—Ö –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–∑—É–º–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (60 –º–∏–Ω—É—Ç)

### ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∞ –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞–≤–Ω–æ 0
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight, –≥—Ä–∞—Ñ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–µ–±—Ä–∞

### ‚úÖ –ó–∞–ø—Ä–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight

- –†—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –≥—Ä–∞—Ñ
- –í–∞–ª–∏–¥–∞—Ü–∏—è weight –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–±—Ä–∞ –∏ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ –≥—Ä–∞—Ñ
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω–æ–≥–æ —Ä–µ–±—Ä–∞

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏–º–µ—Ä—ã –ø–∞—Ä –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **–Ø–∫—É—Ç—Å–∫ ‚Üí –û–ª—ë–∫–º–∏–Ω—Å–∫**: –†–µ–∞–ª—å–Ω—ã–π ‚Üí –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π
2. **–õ–µ–Ω—Å–∫ ‚Üí –Ø–∫—É—Ç—Å–∫**: –†–µ–∞–ª—å–Ω—ã–π ‚Üí –†–µ–∞–ª—å–Ω—ã–π
3. **–í–µ—Ä—Ö–æ—è–Ω—Å–∫ ‚Üí –ñ–∏–≥–∞–Ω—Å–∫**: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π ‚Üí –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π
4. **–ê–º–≥–∞ ‚Üí –¢–∏–∫—Å–∏**: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π ‚Üí –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π
5. **–ú–∏—Ä–Ω—ã–π ‚Üí –û–ª—ë–∫–º–∏–Ω—Å–∫**: –†–µ–∞–ª—å–Ω—ã–π ‚Üí –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π

### –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:

```
[RouteGraphBuilder] ‚úÖ –í—Å–µ N —Ä—ë–±–µ—Ä –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight
[RouteGraphManager] ‚úÖ –í—Å–µ N —Ä—ë–±–µ—Ä –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight
[BuildRouteUseCase] ‚úÖ –í—Å–µ N —Ä—ë–±–µ—Ä –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight –ø–µ—Ä–µ–¥ PathFinder
[PathFinder] ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ "...": Infinity -> X (—á–µ—Ä–µ–∑ "...")
```

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:

- ‚úÖ –í—Å–µ —Ä—ë–±—Ä–∞ –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π weight > 0
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight = 0
- ‚úÖ PathFinder –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –≤–µ—Å–∞
- ‚úÖ PathFinder —Å—É–º–º–∏—Ä—É–µ—Ç –≤–µ—Å–∞ –∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –¥–ª—è –ª—é–±–æ–π –ø–∞—Ä—ã –≥–æ—Ä–æ–¥–æ–≤
- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 0 —Ä—ë–±–µ—Ä —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:

- ‚úÖ **–ö–∞–∂–¥–æ–µ —Ä–µ–±—Ä–æ –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û –∏–º–µ–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π weight**: –í—Å–µ —Ä—ë–±—Ä–∞ –∏–º–µ—é—Ç weight, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º > 0
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è weight –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö**: –í–∞–ª–∏–¥–∞—Ü–∏—è weight –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–±—Ä–∞, –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ –≥—Ä–∞—Ñ –∏ –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –≥—Ä–∞—Ñ–∞
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π duration –∏–∑ —Ä–µ–π—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è weight**: –ï—Å–ª–∏ —Ä–µ–±—Ä–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ —Ä–µ–π—Å–æ–≤, –±–µ—Ä—ë—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π duration —Å—Ä–µ–¥–∏ —Ä–µ–π—Å–æ–≤
- ‚úÖ **–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞—Ñ–∞ –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞–≤–Ω–æ 0
- ‚úÖ **–ó–∞–ø—Ä–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight**: –†—ë–±—Ä–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –≥—Ä–∞—Ñ

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `backend/src/application/route-builder/BuildRouteUseCase.ts`:
   - –û–±–Ω–æ–≤–ª—ë–Ω –º–µ—Ç–æ–¥ `addVirtualEdgesToGraph()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è weight
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `isValidWeight()` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ weight
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ PathFinder

2. `backend/src/application/route-builder/RouteGraphBuilder.ts`:
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `validateAllEdgesWeight()` –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –≥—Ä–∞—Ñ–∞

3. `backend/src/application/route-builder/RouteGraph.ts`:
   - –î–æ–±–∞–≤–ª–µ–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ `validateAllEdgesWeight()` –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞

4. `backend/src/application/route-builder/RouteGraphManager.ts`:
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –≤ –º–µ—Ç–æ–¥–µ `initialize()`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –≤ –º–µ—Ç–æ–¥–µ `getGraph()`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ä—ë–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å weight –≤ –º–µ—Ç–æ–¥–µ `updateGraph()`

## –ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

‚úÖ **PathFinder –¥–æ–ª–∂–µ–Ω:**
- –í–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –≤–µ—Å–∞
- –°—É–º–º–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å–∞ –∏ –≤—ã–±–∏—Ä–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª
- –û–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–Ω–µ Infinity)
- –ù–∞—Ö–æ–¥–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –ª—é–±–æ–π –ø–∞—Ä—ã –≥–æ—Ä–æ–¥–æ–≤

‚úÖ **–õ–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:**
- "‚úÖ –í—Å–µ N —Ä—ë–±–µ—Ä –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π weight"
- "–†—ë–±–µ—Ä —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º weight: 0"
- "‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ ...: Infinity -> X"

‚úÖ **–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä –±–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ weight = 0
- –í—Å–µ —Ä—ë–±—Ä–∞ –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π weight > 0
- –ù–∏ –æ–¥–Ω–æ —Ä–µ–±—Ä–æ –Ω–µ –∏–º–µ–µ—Ç `undefined`, `null`, `NaN`, —Å—Ç—Ä–æ–∫–æ–≤—ã–π weight –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ


