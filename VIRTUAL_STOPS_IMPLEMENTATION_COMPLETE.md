# ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞

**–î–∞—Ç–∞:** 18 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û**

---

## üéØ –¶–µ–ª—å

–û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –º–µ–∂–¥—É **–ª—é–±—ã–º–∏** –≥–æ—Ä–æ–¥–∞–º–∏ –Ø–∫—É—Ç–∏–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ –Ω–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –¥–ª—è —ç—Ç–∏—Ö –≥–æ—Ä–æ–¥–æ–≤. –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –≥—Ä–∞—Ñ –º–∞—Ä—à—Ä—É—Ç–æ–≤.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### **1. –°–æ–∑–¥–∞–Ω —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≥–æ—Ä–æ–¥–æ–≤ –Ø–∫—É—Ç–∏–∏** ‚úÖ

**–§–∞–π–ª:** `backend/src/application/data-loading/DataRecoveryService.ts`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `YAKUTIA_CITIES_COORDINATES` —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ 27 –≥–æ—Ä–æ–¥–æ–≤ –Ø–∫—É—Ç–∏–∏
- –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –≥–æ—Ä–æ–¥–∞: –Ø–∫—É—Ç—Å–∫, –ù–µ—Ä—é–Ω–≥—Ä–∏, –ú–∏—Ä–Ω—ã–π, –¢–∏–∫—Å–∏, –ê–º–≥–∞, –°—Ä–µ–¥–Ω–µ–∫–æ–ª—ã–º—Å–∫, –û–ª—ë–∫–º–∏–Ω—Å–∫ –∏ –¥—Ä.
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{ latitude, longitude }`

**–ì–æ—Ä–æ–¥–∞ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ:**
- –Ø–∫—É—Ç—Å–∫, –ù–µ—Ä—é–Ω–≥—Ä–∏, –ú–∏—Ä–Ω—ã–π, –£–¥–∞—á–Ω—ã–π, –ê–ª–¥–∞–Ω, –û–ª—ë–∫–º–∏–Ω—Å–∫, –õ–µ–Ω—Å–∫, –í–∏–ª—é–π—Å–∫
- –ß—É—Ä–∞–ø—á–∞, –ê–º–≥–∞, –í–µ—Ä—Ö–æ—è–Ω—Å–∫, –°—Ä–µ–¥–Ω–µ–∫–æ–ª—ã–º—Å–∫, –¢–∏–∫—Å–∏, –°–∞—Å–∫—ã–ª–∞—Ö, –ñ–∏–≥–∞–Ω—Å–∫
- –ë–∞—Ç–∞–≥–∞–π, –ß–æ–∫—É—Ä–¥–∞—Ö, –•–æ–Ω—É—É, –°–∞–Ω–≥–∞—Ä, –ü–æ–∫—Ä–æ–≤—Å–∫, –ù–∞–º—Ü—ã, –ú–∞–π—è
- –ë–µ—Ä–¥–∏–≥–µ—Å—Ç—è—Ö, –¢–æ–º–º–æ—Ç, –£—Å—Ç—å-–ù–µ—Ä–∞, –ó—ã—Ä—è–Ω–∫–∞, –°–≤–µ—Ç–ª—ã–π

---

### **2. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫** ‚úÖ

**–§–∞–π–ª:** `backend/src/application/data-loading/DataRecoveryService.ts`

**–ú–µ—Ç–æ–¥:** `createVirtualStops()`

**–õ–æ–≥–∏–∫–∞:**
1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–π –≥–æ—Ä–æ–¥ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
3. –ï—Å–ª–∏ –≥–æ—Ä–æ–¥–∞ –Ω–µ—Ç –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –æ—Å—Ç–∞–Ω–æ–≤–∫–∞—Ö ‚Äî —Å–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –æ—Å—Ç–∞–Ω–æ–≤–∫—É
4. –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:
   - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID: `virtual-stop-{city-name}-{timestamp}`
   - –ù–∞–∑–≤–∞–Ω–∏–µ: `–≥. {–ì–æ—Ä–æ–¥Name}`
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: `_virtual: true`, `_recovered: true`

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –º–µ—Ç–æ–¥–µ `recover()` –Ω–∞ —à–∞–≥–µ 4 (–î–û —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤)
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–ª–∏—á–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞

---

### **3. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–π –≥–æ—Ä–æ–¥–æ–≤** ‚úÖ

**–§–∞–π–ª—ã:**
- `backend/src/application/data-loading/DataRecoveryService.ts`
- `backend/src/application/route-builder/RouteGraphBuilder.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ú–µ—Ç–æ–¥ `extractCityName()` —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç `"–≥. –ì–æ—Ä–æ–¥Name"` (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)
- –ú–µ—Ç–æ–¥ `extractCityFromStop()` –≤ `RouteGraphBuilder` —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫

---

### **4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤ –ø—Ä–æ—Ü–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** ‚úÖ

**–§–∞–π–ª:** `backend/src/application/data-loading/DataRecoveryService.ts`

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
4. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫** (–≤—Å–µ–≥–¥–∞, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
5. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ö–∞–± (–Ø–∫—É—Ç—Å–∫)
6. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä—è–º—ã—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –î–û –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –ü–æ–ª–Ω–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –≥—Ä–∞—Ñ–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∞

---

### **5. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤ MOCK —Ä–µ–∂–∏–º–µ** ‚úÖ

**–§–∞–π–ª:** `backend/src/application/data-loading/TransportDataService.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –í MOCK —Ä–µ–∂–∏–º–µ —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –º–∞—Ä—à—Ä—É—Ç—ã
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –≥—Ä–∞—Ñ–∞ –¥–∞–∂–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ mock-–¥–∞–Ω–Ω—ã—Ö
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `recoveryService.recover()` —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º `qualityReport`

**–õ–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ —Ä–µ–∂–∏–º MOCK ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `recoveryService.recover()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏ –¥–∞–∂–µ –≤ MOCK —Ä–µ–∂–∏–º–µ

---

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–∏—Å–∫ –Ø–∫—É—Ç—Å–∫ ‚Üí –¢–∏–∫—Å–∏**

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- –ï—Å–ª–∏ –≤ stops[] –Ω–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –¥–ª—è –¢–∏–∫—Å–∏ ‚Üí –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- `RouteGraph.findNodesByCity("–¢–∏–∫—Å–∏")` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
- `PathFinder` –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø—É—Ç—å

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
1. `DataRecoveryService.createVirtualStops()` —Å–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –æ—Å—Ç–∞–Ω–æ–≤–∫—É –¥–ª—è –¢–∏–∫—Å–∏
2. –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `dataset.stops`
3. `RouteGraphBuilder.buildFromDataset()` —Å–æ–∑–¥–∞—ë—Ç —É–∑–µ–ª –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
4. `DataRecoveryService.createVirtualRoutesThroughHub()` —Å–æ–∑–¥–∞—ë—Ç –º–∞—Ä—à—Ä—É—Ç –¢–∏–∫—Å–∏ ‚Üí –Ø–∫—É—Ç—Å–∫
5. `RouteGraph.findNodesByCity("–¢–∏–∫—Å–∏")` –Ω–∞—Ö–æ–¥–∏—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —É–∑–µ–ª
6. `PathFinder` –Ω–∞—Ö–æ–¥–∏—Ç –ø—É—Ç—å: –Ø–∫—É—Ç—Å–∫ ‚Üí –¢–∏–∫—Å–∏ (—á–µ—Ä–µ–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç)

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–∏—Å–∫ –ê–º–≥–∞ ‚Üí –Ø–∫—É—Ç—Å–∫**

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è –ê–º–≥–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è (–µ—Å–ª–∏ –µ—ë –Ω–µ—Ç –≤ stops)
2. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –ê–º–≥–∞ ‚Üí –Ø–∫—É—Ç—Å–∫ —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ —Ö–∞–±
3. –ü–æ–∏—Å–∫ –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä—è–º–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç
4. –†–µ–∑—É–ª—å—Ç–∞—Ç: –º–∞—Ä—à—Ä—É—Ç –Ω–∞–π–¥–µ–Ω

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–∏—Å–∫ –°—Ä–µ–¥–Ω–µ–∫–æ–ª—ã–º—Å–∫ ‚Üí –ù–µ—Ä—é–Ω–≥—Ä–∏**

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è –æ–±–æ–∏—Ö –≥–æ—Ä–æ–¥–æ–≤ —Å–æ–∑–¥–∞—é—Ç—Å—è (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç)
2. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è:
   - –°—Ä–µ–¥–Ω–µ–∫–æ–ª—ã–º—Å–∫ ‚Üí –Ø–∫—É—Ç—Å–∫
   - –Ø–∫—É—Ç—Å–∫ ‚Üí –ù–µ—Ä—é–Ω–≥—Ä–∏
3. –ü–æ–∏—Å–∫ –Ω–∞—Ö–æ–¥–∏—Ç –ø—É—Ç—å —á–µ—Ä–µ–∑ —Ö–∞–± (–Ø–∫—É—Ç—Å–∫)
4. –†–µ–∑—É–ª—å—Ç–∞—Ç: –º–∞—Ä—à—Ä—É—Ç –Ω–∞–π–¥–µ–Ω —á–µ—Ä–µ–∑ –ø–µ—Ä–µ—Å–∞–¥–∫—É –≤ –Ø–∫—É—Ç—Å–∫–µ

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

1. **`backend/src/application/data-loading/DataRecoveryService.ts`**
   - –î–æ–±–∞–≤–ª–µ–Ω —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ `YAKUTIA_CITIES_COORDINATES`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `createVirtualStops()`
   - –£–ª—É—á—à–µ–Ω –º–µ—Ç–æ–¥ `extractCityName()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ `"–≥. –ì–æ—Ä–æ–¥Name"`
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤ –ø—Ä–æ—Ü–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

2. **`backend/src/application/route-builder/RouteGraphBuilder.ts`**
   - –£–ª—É—á—à–µ–Ω –º–µ—Ç–æ–¥ `extractCityFromStop()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫

3. **`backend/src/application/data-loading/TransportDataService.ts`**
   - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ MOCK —Ä–µ–∂–∏–º–µ

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### **Backend Build** ‚úÖ
```bash
cd backend && npm run build
# ‚úÖ Compiled successfully (0 errors)
```

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** ‚úÖ
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ stops
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –≤ RouteGraphBuilder
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ RECOVERY –∏ MOCK —Ä–µ–∂–∏–º–∞—Ö

---

## üé® –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### **–ü—Ä–∏–º–µ—Ä 1: –ü–æ–∏—Å–∫ –Ø–∫—É—Ç—Å–∫ ‚Üí –¢–∏–∫—Å–∏**

**–ó–∞–ø—Ä–æ—Å:**
```bash
GET /api/v1/routes/search?from=–Ø–∫—É—Ç—Å–∫&to=–¢–∏–∫—Å–∏
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è –¢–∏–∫—Å–∏ —Å–æ–∑–¥–∞–Ω–∞ (–µ—Å–ª–∏ –µ—ë –Ω–µ—Ç)
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –Ø–∫—É—Ç—Å–∫ ‚Üí –¢–∏–∫—Å–∏ —Å–æ–∑–¥–∞–Ω
- –ú–∞—Ä—à—Ä—É—Ç –Ω–∞–π–¥–µ–Ω –∏ –≤–æ–∑–≤—Ä–∞—â—ë–Ω –∫–ª–∏–µ–Ω—Ç—É

---

### **–ü—Ä–∏–º–µ—Ä 2: –ü–æ–∏—Å–∫ –ê–º–≥–∞ ‚Üí –Ø–∫—É—Ç—Å–∫**

**–ó–∞–ø—Ä–æ—Å:**
```bash
GET /api/v1/routes/search?from=–ê–º–≥–∞&to=–Ø–∫—É—Ç—Å–∫
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è –ê–º–≥–∏ —Å–æ–∑–¥–∞–Ω–∞ (–µ—Å–ª–∏ –µ—ë –Ω–µ—Ç)
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –ê–º–≥–∞ ‚Üí –Ø–∫—É—Ç—Å–∫ —Å–æ–∑–¥–∞–Ω
- –ú–∞—Ä—à—Ä—É—Ç –Ω–∞–π–¥–µ–Ω –∏ –≤–æ–∑–≤—Ä–∞—â—ë–Ω –∫–ª–∏–µ–Ω—Ç—É

---

### **–ü—Ä–∏–º–µ—Ä 3: –ü–æ–∏—Å–∫ –°—Ä–µ–¥–Ω–µ–∫–æ–ª—ã–º—Å–∫ ‚Üí –ù–µ—Ä—é–Ω–≥—Ä–∏**

**–ó–∞–ø—Ä–æ—Å:**
```bash
GET /api/v1/routes/search?from=–°—Ä–µ–¥–Ω–µ–∫–æ–ª—ã–º—Å–∫&to=–ù–µ—Ä—é–Ω–≥—Ä–∏
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è –æ–±–æ–∏—Ö –≥–æ—Ä–æ–¥–æ–≤ —Å–æ–∑–¥–∞–Ω—ã (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç)
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞–Ω—ã:
  - –°—Ä–µ–¥–Ω–µ–∫–æ–ª—ã–º—Å–∫ ‚Üí –Ø–∫—É—Ç—Å–∫
  - –Ø–∫—É—Ç—Å–∫ ‚Üí –ù–µ—Ä—é–Ω–≥—Ä–∏
- –ú–∞—Ä—à—Ä—É—Ç –Ω–∞–π–¥–µ–Ω —á–µ—Ä–µ–∑ –ø–µ—Ä–µ—Å–∞–¥–∫—É –≤ –Ø–∫—É—Ç—Å–∫–µ

---

## üìù –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç

- ‚úÖ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≥–æ—Ä–æ–¥–æ–≤ –Ø–∫—É—Ç–∏–∏ —Å–æ–∑–¥–∞–Ω (27 –≥–æ—Ä–æ–¥–æ–≤)
- ‚úÖ –ú–µ—Ç–æ–¥ `createVirtualStops()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ RECOVERY —Ä–µ–∂–∏–º–µ
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ MOCK —Ä–µ–∂–∏–º–µ
- ‚úÖ –ú–µ—Ç–æ–¥—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –≥–æ—Ä–æ–¥–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
- ‚úÖ Backend build —É—Å–ø–µ—à–µ–Ω (0 errors)
- ‚úÖ Linter –æ—à–∏–±–æ–∫ –Ω–µ—Ç

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### **–ü–æ–∏—Å–∫ –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏:**

```bash
# –ü–æ–∏—Å–∫ –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ stops
GET /api/v1/routes/search?from=–¢–∏–∫—Å–∏&to=–Ø–∫—É—Ç—Å–∫

# –ü–æ–∏—Å–∫ –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
GET /api/v1/routes/search?from=–ê–º–≥–∞&to=–°—Ä–µ–¥–Ω–µ–∫–æ–ª—ã–º—Å–∫

# –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥–∞—Ç—ã, —Å –¥–∞—Ç–æ–π, —Å –ª—é–±—ã–º –ø–æ—Ä—è–¥–∫–æ–º –Ω–∞–ø–∏—Å–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤
GET /api/v1/routes/search?from=–Ø–∫—É—Ç—Å–∫&to=–ù–µ—Ä—é–Ω–≥—Ä–∏&date=2025-12-01
```

**–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
1. –°–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ stops
2. –°–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ —Ö–∞–± (–Ø–∫—É—Ç—Å–∫) –∏–ª–∏ –ø—Ä—è–º—ã–µ —Å–≤—è–∑–∏
3. –ù–∞—Ö–æ–¥–∏—Ç –ø—É—Ç—å –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏

---

## üìå –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:**
   - –°–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ stops
   - –ò–º–µ—é—Ç —Ñ–æ—Ä–º–∞—Ç –Ω–∞–∑–≤–∞–Ω–∏—è: `"–≥. {–ì–æ—Ä–æ–¥Name}"`
   - –°–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
   - –ü–æ–º–µ—á–µ–Ω—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ `_virtual: true`

2. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:**
   - –°–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö
   - –û–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –≥—Ä–∞—Ñ–∞
   - –†–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ —Ö–∞–± (–Ø–∫—É—Ç—Å–∫) –∏–ª–∏ –ø—Ä—è–º—ã–µ —Å–≤—è–∑–∏

3. **–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:**
   - **REAL —Ä–µ–∂–∏–º:** –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è (–¥–∞–Ω–Ω—ã–µ –ø–æ–ª–Ω—ã–µ)
   - **RECOVERY —Ä–µ–∂–∏–º:** –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - **MOCK —Ä–µ–∂–∏–º:** –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

4. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
   - –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
   - –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è
   - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω—ã

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –º–µ–∂–¥—É **–ª—é–±—ã–º–∏** –≥–æ—Ä–æ–¥–∞–º–∏ –Ø–∫—É—Ç–∏–∏:
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥–∞—Ç—ã, —Å –¥–∞—Ç–æ–π, —Å –ª—é–±—ã–º –ø–æ—Ä—è–¥–∫–æ–º –Ω–∞–ø–∏—Å–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ RECOVERY –∏ MOCK —Ä–µ–∂–∏–º–∞—Ö

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.*


