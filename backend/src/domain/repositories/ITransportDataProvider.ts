/**
 * Интерфейс провайдера транспортных данных
 * 
 * Определяет контракт для загрузки данных из различных источников (OData, Mock и т.д.).
 * Реализации находятся в Infrastructure Layer.
 */

import { ITransportDataset } from '../entities/TransportDataset';

/**
 * Провайдер транспортных данных
 * 
 * Абстракция над источником данных (OData, Mock, REST API и т.д.).
 * Все провайдеры должны возвращать данные в едином формате TransportDataset.
 */
export interface ITransportDataProvider {
  /**
   * Загрузить транспортные данные из источника
   * 
   * Метод загружает маршруты, остановки, рейсы и формирует унифицированный датасет.
   * При ошибке загрузки должен выбросить исключение.
   * 
   * @returns Promise с датасетом транспортных данных
   * @throws Error если загрузка невозможна
   */
  loadData(): Promise<ITransportDataset>;

  /**
   * Проверить доступность источника данных
   * 
   * Выполняет быструю проверку (например, тестовый запрос) для определения,
   * доступен ли источник данных в данный момент.
   * 
   * @returns Promise с флагом доступности
   */
  isAvailable(): Promise<boolean>;

  /**
   * Получить название провайдера
   * 
   * Используется для логирования и диагностики.
   * 
   * @returns Название провайдера (например, "ODataTransportProvider", "MockTransportProvider")
   */
  getName(): string;
}

/**
 * Опции конфигурации провайдера данных
 */
export interface IProviderOptions {
  /** Timeout для запросов (миллисекунды) */
  timeout?: number;

  /** Количество попыток при ошибке */
  retryAttempts?: number;

  /** Задержка между попытками (миллисекунды) */
  retryDelay?: number;

  /** Дополнительные параметры */
  [key: string]: any;
}







