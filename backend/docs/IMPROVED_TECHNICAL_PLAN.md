# –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤

**–î–∞—Ç–∞:** 2025-01-XX  
**–í–µ—Ä—Å–∏—è:** 2.0.0  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìã –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

–ü–ª–∞–Ω –≤–∫–ª—é—á–∞–µ—Ç 6 –æ—Å–Ω–æ–≤–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π —É–ª—É—á—à–µ–Ω–∏–π –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –ø–æ–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–º–µ—à–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –ø–µ—Ä–µ–ø—Ä–∞–≤—ã, –∞ —Ç–∞–∫–∂–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≥—Ä–∞—Ñ–∞.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**
- üî¥ **–ö–†–ò–¢–ò–ß–ù–û:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ø–∫—É—Ç—Å–∫–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- üü† **–í–´–°–û–ö–ò–ô:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
- üü° **–°–†–ï–î–ù–ò–ô:** –°–º–µ—à–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã, –ø–µ—Ä–µ–ø—Ä–∞–≤–∞, —É–ª—É—á—à–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞

---

## üí° A. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ ¬´–Ø–∫—É—Ç—Å–∫¬ª

### A.1 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ `extractCityFromStopName`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –§—É–Ω–∫—Ü–∏—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç "–¢—É–π–º–∞–∞–¥–∞" –∏–∑ "–ê—ç—Ä–æ–ø–æ—Ä—Ç –Ø–∫—É—Ç—Å–∫ (–¢—É–π–º–∞–∞–¥–∞)" –≤–º–µ—Å—Ç–æ "–Ø–∫—É—Ç—Å–∫"
- –õ–æ–≥–∏–∫–∞ –±–µ—Ä–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–ª–æ–≤–æ –≤ —Å–∫–æ–±–∫–∞—Ö –∫–∞–∫ –≥–æ—Ä–æ–¥

**–†–µ—à–µ–Ω–∏–µ:**

#### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤
**–§–∞–π–ª:** `backend/data/reference/airports-reference.json`
```json
{
  "version": "1.0.0",
  "airports": [
    {
      "name": "–¢—É–π–º–∞–∞–¥–∞",
      "city": "–Ø–∫—É—Ç—Å–∫",
      "aliases": ["–¢—É–π–º–∞–¥–∞", "Yakutsk Airport", "YKS"]
    },
    {
      "name": "–®–µ—Ä–µ–º–µ—Ç—å–µ–≤–æ",
      "city": "–ú–æ—Å–∫–≤–∞",
      "aliases": ["SVO", "Sheremetyevo"]
    },
    {
      "name": "–î–æ–º–æ–¥–µ–¥–æ–≤–æ",
      "city": "–ú–æ—Å–∫–≤–∞",
      "aliases": ["DME", "Domodedovo"]
    },
    {
      "name": "–ü—É–ª–∫–æ–≤–æ",
      "city": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
      "aliases": ["LED", "Pulkovo"]
    },
    {
      "name": "–¢–æ–ª–º–∞—á—ë–≤–æ",
      "city": "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",
      "aliases": ["OVB", "Tolmachevo"]
    },
    {
      "name": "–ï–º–µ–ª—å—è–Ω–æ–≤–æ",
      "city": "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫",
      "aliases": ["KJA", "Yemelyanovo"]
    }
  ]
}
```

#### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å `city-normalizer.ts`
**–§–∞–π–ª:** `backend/src/shared/utils/city-normalizer.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `loadAirportsReference(): Map<string, string>`
2. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `extractCityFromStopName()`:
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω "–ê—ç—Ä–æ–ø–æ—Ä—Ç [–ì–æ—Ä–æ–¥] ([–ù–∞–∑–≤–∞–Ω–∏–µ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞])"
   - –ï—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ —Å–∫–æ–±–∫–∞—Ö –Ω–∞–π–¥–µ–Ω–æ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ä–æ–¥ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
   - –ï—Å–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω "–ê—ç—Ä–æ–ø–æ—Ä—Ç [–ì–æ—Ä–æ–¥]" –±–µ–∑ —Å–∫–æ–±–æ–∫ ‚Üí –∏–∑–≤–ª–µ–∫–∞—Ç—å –≥–æ—Ä–æ–¥ –∏–∑ —á–∞—Å—Ç–∏ –î–û —Å–ª–æ–≤–∞ "–ê—ç—Ä–æ–ø–æ—Ä—Ç"
   - –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤ –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ –≥–æ—Ä–æ–¥–∞

**–õ–æ–≥–∏–∫–∞:**
```typescript
// –ü—Å–µ–≤–¥–æ–∫–æ–¥
if (stopName.match(/–ê—ç—Ä–æ–ø–æ—Ä—Ç\s+(\w+)\s*\(([^)]+)\)/)) {
  const airportName = extractAirportNameFromBrackets();
  const cityFromReference = airportsReference.get(airportName);
  if (cityFromReference) {
    return cityFromReference; // "–Ø–∫—É—Ç—Å–∫" –≤–º–µ—Å—Ç–æ "–¢—É–π–º–∞–∞–¥–∞"
  }
  // Fallback: –∏–∑–≤–ª–µ—á—å –≥–æ—Ä–æ–¥ –∏–∑ —á–∞—Å—Ç–∏ –î–û —Å–∫–æ–±–æ–∫
  return extractCityFromPartBeforeBrackets();
}
```

#### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø—Ä–∏–≥–æ—Ä–æ–¥–æ–≤
**–§–∞–π–ª:** `backend/data/reference/suburbs-reference.json`
```json
{
  "version": "1.0.0",
  "suburbs": [
    {
      "name": "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö",
      "mainCity": "–Ø–∫—É—Ç—Å–∫",
      "type": "ferry_terminal",
      "normalizedName": "–Ω–∏–∂–Ω–∏–π –±–µ—Å—Ç—è—Ö"
    },
    {
      "name": "–ë–µ—Ä–∫–∞–∫–∏—Ç",
      "mainCity": "–ù–µ—Ä—é–Ω–≥—Ä–∏",
      "type": "railway_station",
      "normalizedName": "–±–µ—Ä–∫–∞–∫–∏—Ç"
    }
  ]
}
```

#### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å `ODataSyncWorker.parseODataResponse()`
**–§–∞–π–ª:** `backend/src/application/workers/ODataSyncWorker.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è `city_id` —á–µ—Ä–µ–∑ `extractCityFromStopName()`:
  1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `suburbs-reference.json` ‚Üí –µ—Å–ª–∏ –ø—Ä–∏–≥–æ—Ä–æ–¥, –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `mainCity`
  2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `airports-reference.json` ‚Üí –µ—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞, –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –≥–æ—Ä–æ–¥
  3. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å: `city_id` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `unified-cities-reference.json`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ "–ê—ç—Ä–æ–ø–æ—Ä—Ç –Ø–∫—É—Ç—Å–∫ (–¢—É–π–º–∞–∞–¥–∞)" ‚Üí `city_id = "–Ø–∫—É—Ç—Å–∫"`
- ‚úÖ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" ‚Üí `city_id = "–Ø–∫—É—Ç—Å–∫"`
- ‚úÖ "–¢—É–π–º–∞–∞–¥–∞" –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥

---

## üí° B. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤

### B.1 –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤

**–§–∞–π–ª:** `backend/data/reference/russia-federal-cities-reference.json`
```json
{
  "version": "1.0.0",
  "cities": [
    {
      "name": "–ú–æ—Å–∫–≤–∞",
      "normalizedName": "–º–æ—Å–∫–≤–∞",
      "latitude": 55.7558,
      "longitude": 37.6173,
      "region": "Central",
      "isKeyCity": true,
      "isFederalCity": true,
      "airports": ["–®–µ—Ä–µ–º–µ—Ç—å–µ–≤–æ", "–î–æ–º–æ–¥–µ–¥–æ–≤–æ", "–í–Ω—É–∫–æ–≤–æ"]
    },
    {
      "name": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
      "normalizedName": "—Å–∞–Ω–∫—Ç-–ø–µ—Ç–µ—Ä–±—É—Ä–≥",
      "latitude": 59.9343,
      "longitude": 30.3351,
      "region": "Northwest",
      "isKeyCity": true,
      "isFederalCity": true,
      "airports": ["–ü—É–ª–∫–æ–≤–æ"]
    },
    {
      "name": "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",
      "normalizedName": "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",
      "latitude": 55.0084,
      "longitude": 82.9357,
      "region": "Siberia",
      "isKeyCity": true,
      "isFederalCity": true,
      "airports": ["–¢–æ–ª–º–∞—á—ë–≤–æ"]
    },
    {
      "name": "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫",
      "normalizedName": "–∫—Ä–∞—Å–Ω–æ—è—Ä—Å–∫",
      "latitude": 56.0089,
      "longitude": 92.8537,
      "region": "Siberia",
      "isKeyCity": true,
      "isFederalCity": true,
      "airports": ["–ï–º–µ–ª—å—è–Ω–æ–≤–æ"]
    },
    {
      "name": "–ò—Ä–∫—É—Ç—Å–∫",
      "normalizedName": "–∏—Ä–∫—É—Ç—Å–∫",
      "latitude": 52.2680,
      "longitude": 104.3889,
      "region": "Siberia",
      "isKeyCity": true,
      "isFederalCity": true,
      "airports": ["–ò—Ä–∫—É—Ç—Å–∫"]
    },
    {
      "name": "–•–∞–±–∞—Ä–æ–≤—Å–∫",
      "normalizedName": "—Ö–∞–±–∞—Ä–æ–≤—Å–∫",
      "latitude": 48.4802,
      "longitude": 135.0719,
      "region": "FarEast",
      "isKeyCity": true,
      "isFederalCity": true,
      "airports": ["–•–∞–±–∞—Ä–æ–≤—Å–∫"]
    },
    {
      "name": "–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫",
      "normalizedName": "–≤–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫",
      "latitude": 43.1155,
      "longitude": 131.8855,
      "region": "FarEast",
      "isKeyCity": true,
      "isFederalCity": true,
      "airports": ["–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫"]
    },
    {
      "name": "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥",
      "normalizedName": "–µ–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥",
      "latitude": 56.8431,
      "longitude": 60.6454,
      "region": "Ural",
      "isKeyCity": true,
      "isFederalCity": true,
      "airports": ["–ö–æ–ª—å—Ü–æ–≤–æ"]
    },
    {
      "name": "–ö–∞–∑–∞–Ω—å",
      "normalizedName": "–∫–∞–∑–∞–Ω—å",
      "latitude": 55.8304,
      "longitude": 49.0661,
      "region": "Volga",
      "isKeyCity": true,
      "isFederalCity": true,
      "airports": ["–ö–∞–∑–∞–Ω—å"]
    },
    {
      "name": "–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥",
      "normalizedName": "–Ω–∏–∂–Ω–∏–π –Ω–æ–≤–≥–æ—Ä–æ–¥",
      "latitude": 56.2965,
      "longitude": 43.9361,
      "region": "Volga",
      "isKeyCity": true,
      "isFederalCity": true,
      "airports": ["–°—Ç—Ä–∏–≥–∏–Ω–æ"]
    }
  ]
}
```

### B.2 –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞

**–§–∞–π–ª:** `backend/src/shared/utils/unified-cities-loader.ts`

**–§—É–Ω–∫—Ü–∏–∏:**
- `loadUnifiedCitiesReference(): Map<string, UnifiedCity>`
  - –ó–∞–≥—Ä—É–∂–∞–µ—Ç `yakutia-cities-reference.json` + `russia-federal-cities-reference.json`
  - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤ –µ–¥–∏–Ω—ã–π Map —Å –∫–ª—é—á–æ–º `normalizedName`
- `getUnifiedCity(cityName): UnifiedCity | undefined`
- `isCityInReference(cityName): boolean`
- `getAllFederalCities(): UnifiedCity[]`
- `getAllYakutiaCities(): UnifiedCity[]`

**–¢–∏–ø:**
```typescript
interface UnifiedCity {
  name: string;
  normalizedName: string;
  latitude: number;
  longitude: number;
  region: string;
  isKeyCity: boolean;
  isFederalCity: boolean;
  airports?: string[];
}
```

### B.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `VirtualEntitiesGeneratorWorker`

**–§–∞–π–ª:** `backend/src/application/workers/VirtualEntitiesGeneratorWorker.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ó–∞–º–µ–Ω–∏—Ç—å `yakutia-cities-loader.ts` –Ω–∞ `unified-cities-loader.ts`
2. –í `generateVirtualStops()`:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getAllFederalCities()` + `getAllYakutiaCities()`
   - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
     - –ì–æ—Ä–æ–¥ –µ—Å—Ç—å –≤ `unified-cities-reference.json`
     - –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤ –ë–î –¥–ª—è —ç—Ç–æ–≥–æ –≥–æ—Ä–æ–¥–∞
     - `isKeyCity: true` –∏–ª–∏ –∑–∞–ø—Ä–æ—à–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
3. –í `generateVirtualRoutes()`:
   - –î–ª—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ ‚Üí –Ø–∫—É—Ç–∏—è: —Å–æ–∑–¥–∞–≤–∞—Ç—å hub-based –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ –Ø–∫—É—Ç—Å–∫
   - –î–ª—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ ‚Üí —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –≥–æ—Ä–æ–¥–∞: —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä—è–º—ã–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (–µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö)

### B.4 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `ensureYakutiaCitiesConnectivity()`

**–§–∞–π–ª:** `backend/src/application/workers/VirtualEntitiesGeneratorWorker.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `ensureCitiesConnectivity()`
- –†–∞—Å—à–∏—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É:
  - –î–ª—è –ø–∞—Ä **—Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥ ‚Üí –≥–æ—Ä–æ–¥ –Ø–∫—É—Ç–∏–∏**: —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ –Ø–∫—É—Ç—Å–∫ (hub)
  - –î–ª—è –ø–∞—Ä **—Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥ ‚Üí —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥**: —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä—è–º—ã–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (–µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö)
  - –î–ª—è –ø–∞—Ä **–≥–æ—Ä–æ–¥ –Ø–∫—É—Ç–∏–∏ ‚Üí –≥–æ—Ä–æ–¥ –Ø–∫—É—Ç–∏–∏**: –æ—Å—Ç–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 10 —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç—ã –∏–∑ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –≤ –Ø–∫—É—Ç–∏—é —Å—Ç—Ä–æ—è—Ç—Å—è (—á–µ—Ä–µ–∑ –Ø–∫—É—Ç—Å–∫)
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç—ã –º–µ–∂–¥—É —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏ —Å—Ç—Ä–æ—è—Ç—Å—è (–ø—Ä—è–º—ã–µ)

---

## üí° C. –†–µ–∞–ª—å–Ω—ã–µ —Å–º–µ—à–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –†–æ—Å—Å–∏—è ‚Üí –Ø–∫—É—Ç–∏—è

### C.1 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ mock-–¥–∞–Ω–Ω—ã—Ö

#### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
**–§–∞–π–ª:** `backend/data/mock/stops.json`

**–î–æ–±–∞–≤–∏—Ç—å:**
```json
{
  "id": "stop-030",
  "name": "–ê—ç—Ä–æ–ø–æ—Ä—Ç –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –¢–æ–ª–º–∞—á—ë–≤–æ",
  "coordinates": { "latitude": 55.0084, "longitude": 82.9357 },
  "type": "airport",
  "cityId": "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫"
},
{
  "id": "stop-031",
  "name": "–ê—ç—Ä–æ–ø–æ—Ä—Ç –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ –ï–º–µ–ª—å—è–Ω–æ–≤–æ",
  "coordinates": { "latitude": 56.0089, "longitude": 92.8537 },
  "type": "airport",
  "cityId": "–∫—Ä–∞—Å–Ω–æ—è—Ä—Å–∫"
},
{
  "id": "stop-032",
  "name": "–ê—ç—Ä–æ–ø–æ—Ä—Ç –•–∞–±–∞—Ä–æ–≤—Å–∫",
  "coordinates": { "latitude": 48.4802, "longitude": 135.0719 },
  "type": "airport",
  "cityId": "—Ö–∞–±–∞—Ä–æ–≤—Å–∫"
}
```

#### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –∞–≤–∏–∞–º–∞—Ä—à—Ä—É—Ç—ã –∏–∑ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
**–§–∞–π–ª:** `backend/data/mock/routes.json`

**–î–æ–±–∞–≤–∏—Ç—å:**
```json
{
  "id": "route-030",
  "name": "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ - –Ø–∫—É—Ç—Å–∫ (–ê–≤–∏–∞)",
  "routeNumber": "S7-2001",
  "transportType": "PLANE",
  "stops": ["stop-030", "stop-001"],
  "baseFare": 15000,
  "distance": 2800,
  "duration": 240
},
{
  "id": "route-031",
  "name": "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ - –Ø–∫—É—Ç—Å–∫ (–ê–≤–∏–∞)",
  "routeNumber": "S7-2002",
  "transportType": "PLANE",
  "stops": ["stop-031", "stop-001"],
  "baseFare": 12000,
  "distance": 2200,
  "duration": 180
}
```

#### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–π—Å—ã
**–§–∞–π–ª:** `backend/data/mock/flights.json`

**–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–π—Å—ã –¥–ª—è –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤** (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ, 2-3 —Ä–µ–π—Å–∞ –≤ –¥–µ–Ω—å)

### C.2 –°–æ–∑–¥–∞–Ω–∏–µ `AirRouteGeneratorWorker`

**–§–∞–π–ª:** `backend/src/application/workers/AirRouteGeneratorWorker.ts`

**–õ–æ–≥–∏–∫–∞:**
1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ –∏–∑ `unified-cities-reference.json`
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∞–≤–∏–∞–º–∞—Ä—à—Ä—É—Ç–∞ –≤ –ë–î (–Ø–∫—É—Ç—Å–∫ ‚Üî —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥)
   - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí —Å–æ–∑–¥–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∞–≤–∏–∞–º–∞—Ä—à—Ä—É—Ç:
     - –ü—Ä—è–º–æ–π –º–∞—Ä—à—Ä—É—Ç: —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥ ‚Üí –Ø–∫—É—Ç—Å–∫
     - –û–±—Ä–∞—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç: –Ø–∫—É—Ç—Å–∫ ‚Üí —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–π—Å—ã –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ, 2-3 —Ä–µ–π—Å–∞ –≤ –¥–µ–Ω—å)
3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã –∫–∞–∫ —Ä–µ–∞–ª—å–Ω—ã–µ (–Ω–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ), –µ—Å–ª–∏ –æ–Ω–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∞–≤–∏–∞–∫–æ–º–ø–∞–Ω–∏–π

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- –ó–∞–ø—É—Å–∫–∞—Ç—å –ø–æ—Å–ª–µ `ODataSyncWorker`
- –ü–µ—Ä–µ–¥ `VirtualEntitiesGeneratorWorker`

### C.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `GraphBuilderWorker` –¥–ª—è —Å–º–µ—à–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

**–§–∞–π–ª:** `backend/src/application/workers/GraphBuilderWorker.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ü—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≥—Ä–∞—Ñ–∞ —É—á–∏—Ç—ã–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Å–∞–¥–æ–∫:
   - –ï—Å–ª–∏ –µ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç A ‚Üí B (air) –∏ –º–∞—Ä—à—Ä—É—Ç B ‚Üí C (ground), —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–±—Ä–æ A ‚Üí C —á–µ—Ä–µ–∑ B
   - –í–µ—Å —Ä–µ–±—Ä–∞ = —Å—É–º–º–∞ –≤–µ—Å–æ–≤ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ + –≤—Ä–µ–º—è –ø–µ—Ä–µ—Å–∞–¥–∫–∏ (60-90 –º–∏–Ω—É—Ç)
2. –°–æ–∑–¥–∞–≤–∞—Ç—å —Ä—ë–±—Ä–∞ –ø–µ—Ä–µ—Å–∞–¥–∫–∏ –º–µ–∂–¥—É –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏ –≤ –æ–¥–Ω–æ–º –≥–æ—Ä–æ–¥–µ:
   - –ï—Å–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –æ–¥–Ω–æ–º –≥–æ—Ä–æ–¥–µ —Å–≤—è–∑–∞–Ω—ã –º–∞—Ä—à—Ä—É—Ç–æ–º ‚Üí —Å–æ–∑–¥–∞—Ç—å —Ä–µ–±—Ä–æ –ø–µ—Ä–µ—Å–∞–¥–∫–∏
   - –í–µ—Å –ø–µ—Ä–µ—Å–∞–¥–∫–∏: 60-90 –º–∏–Ω—É—Ç (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ú–æ—Å–∫–≤–∞ ‚Üí –Ø–∫—É—Ç—Å–∫ (—Å–∞–º–æ–ª—ë—Ç) ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ú–æ—Å–∫–≤–∞ ‚Üí –Ø–∫—É—Ç—Å–∫ ‚Üí –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö (—Å–∞–º–æ–ª—ë—Ç ‚Üí –ø–µ—Ä–µ–ø—Ä–∞–≤–∞) ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ú–æ—Å–∫–≤–∞ ‚Üí –Ø–∫—É—Ç—Å–∫ ‚Üí –ß—É—Ä–∞–ø—á–∞ (—Å–∞–º–æ–ª—ë—Ç ‚Üí –Ω–∞–∑–µ–º–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç) ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ ‚Üí –Ø–∫—É—Ç—Å–∫ ‚Üí –û–ª—ë–∫–º–∏–Ω—Å–∫ ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ ‚Üí –Ø–∫—É—Ç—Å–∫ ‚Üí –ú–∏—Ä–Ω—ã–π ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üí° D. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–ø—Ä–∞–≤—ã

### D.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –¥–ª—è –ø–µ—Ä–µ–ø—Ä–∞–≤—ã

**–§–∞–π–ª:** `backend/data/mock/stops.json`

**–î–æ–±–∞–≤–∏—Ç—å:**
```json
{
  "id": "stop-027",
  "name": "–ü–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö",
  "coordinates": { "latitude": 61.9500, "longitude": 129.6000 },
  "type": "ferry_terminal",
  "cityId": "—è–∫—É—Ç—Å–∫"
},
{
  "id": "stop-028",
  "name": "–ü—Ä–∏—Å—Ç–∞–Ω—å –Ø–∫—É—Ç—Å–∫",
  "coordinates": { "latitude": 62.0278, "longitude": 129.7042 },
  "type": "ferry_terminal",
  "cityId": "—è–∫—É—Ç—Å–∫"
}
```

### D.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ ferry-–º–∞—Ä—à—Ä—É—Ç–æ–≤

**–§–∞–π–ª:** `backend/data/mock/routes.json`

**–î–æ–±–∞–≤–∏—Ç—å:**
```json
{
  "id": "route-032",
  "name": "–Ø–∫—É—Ç—Å–∫ - –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö (–ü–∞—Ä–æ–º)",
  "routeNumber": "FERRY-001",
  "transportType": "FERRY",
  "stops": ["stop-028", "stop-027"],
  "baseFare": 500,
  "distance": 15,
  "duration": 20,
  "metadata": {
    "ferrySchedule": {
      "summer": { "start": "06:00", "end": "23:00", "frequency": 30 },
      "winter": { "start": "07:00", "end": "22:00", "frequency": 45 }
    }
  }
},
{
  "id": "route-033",
  "name": "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö - –Ø–∫—É—Ç—Å–∫ (–ü–∞—Ä–æ–º)",
  "routeNumber": "FERRY-002",
  "transportType": "FERRY",
  "stops": ["stop-027", "stop-028"],
  "baseFare": 500,
  "distance": 15,
  "duration": 20,
  "metadata": {
    "ferrySchedule": {
      "summer": { "start": "06:00", "end": "23:00", "frequency": 30 },
      "winter": { "start": "07:00", "end": "22:00", "frequency": 45 }
    }
  }
}
```

### D.3 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –≥—Ä–∞—Ñ

**–§–∞–π–ª:** `backend/src/application/workers/GraphBuilderWorker.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ü—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≥—Ä–∞—Ñ–∞ —É—á–∏—Ç—ã–≤–∞—Ç—å ferry-–º–∞—Ä—à—Ä—É—Ç—ã –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
2. –¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞: `FERRY` (—É–∂–µ –µ—Å—Ç—å –≤ enum `TransportType`)
3. –†–∞—Å—á–µ—Ç –≤–µ—Å–∞ –¥–ª—è ferry-–º–∞—Ä—à—Ä—É—Ç–æ–≤:
   - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–ø—Ä–∞–≤—ã: 20 –º–∏–Ω—É—Ç
   - –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø–∞—Ä–æ–º–∞: –º–∞–∫—Å–∏–º—É–º 30 –º–∏–Ω—É—Ç (–µ—Å–ª–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç)
   - **–í–µ—Å = 20 –º–∏–Ω—É—Ç (–ø–µ—Ä–µ–ø—Ä–∞–≤–∞) + 30 –º–∏–Ω—É—Ç (–æ–∂–∏–¥–∞–Ω–∏–µ) = 50 –º–∏–Ω—É—Ç**
4. –£—á–µ—Å—Ç—å —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å:
   - –õ–µ—Ç–æ–º: –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—â–µ, –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –º–µ–Ω—å—à–µ (15-20 –º–∏–Ω—É—Ç)
   - –ó–∏–º–æ–π: –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–∂–µ, –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –±–æ–ª—å—à–µ (30-45 –º–∏–Ω—É—Ç)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `metadata.ferrySchedule` –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –≤–µ—Å–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–µ–∑–æ–Ω–∞

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteGraphBuilder.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≥—Ä–∞—Ñ–∞ –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞:
  - –û–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –¥–ª—è ferry-–º–∞—Ä—à—Ä—É—Ç–æ–≤ –∫–∞–∫ `TransportType.FERRY`
  - –°–æ–∑–¥–∞–≤–∞—Ç—å —Ä—ë–±—Ä–∞ –¥–ª—è ferry-–º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –≤–µ—Å–æ–º (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–ø—Ä–∞–≤—ã + –æ–∂–∏–¥–∞–Ω–∏–µ)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–µ—Ä–µ–ø—Ä–∞–≤–∞ –Ø–∫—É—Ç—Å–∫ ‚Üî –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ ferry-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç—ã —Å –ø–µ—Ä–µ–ø—Ä–∞–≤–æ–π —Å—Ç—Ä–æ—è—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–ú–æ—Å–∫–≤–∞ ‚Üí –Ø–∫—É—Ç—Å–∫ ‚Üí –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö)
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–µ—Ä–µ–ø—Ä–∞–≤—ã

---

## üí° E. –£–ª—É—á—à–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤

### E.1 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞

**–§–∞–π–ª:** `backend/src/application/workers/VirtualEntitiesGeneratorWorker.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ó–∞–º–µ–Ω–∏—Ç—å `yakutia-cities-loader.ts` –Ω–∞ `unified-cities-loader.ts`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getAllFederalCities()` + `getAllYakutiaCities()` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
3. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —É–∑–ª—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
   - –ì–æ—Ä–æ–¥ –µ—Å—Ç—å –≤ `unified-cities-reference.json`
   - –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤ –ë–î –¥–ª—è —ç—Ç–æ–≥–æ –≥–æ—Ä–æ–¥–∞
   - `isKeyCity: true` –∏–ª–∏ –∑–∞–ø—Ä–æ—à–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

### E.2 Hub-based –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ –Ø–∫—É—Ç—Å–∫

**–õ–æ–≥–∏–∫–∞:**
- –î–ª—è –ø–∞—Ä **—Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥ ‚Üí –≥–æ—Ä–æ–¥ –Ø–∫—É—Ç–∏–∏**:
  - –°–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ –Ø–∫—É—Ç—Å–∫ (hub)
  - –ú–∞—Ä—à—Ä—É—Ç: —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥ ‚Üí –Ø–∫—É—Ç—Å–∫ (air) + –Ø–∫—É—Ç—Å–∫ ‚Üí –≥–æ—Ä–æ–¥ –Ø–∫—É—Ç–∏–∏ (ground)
  - –í–µ—Å = —Å—É–º–º–∞ –≤–µ—Å–æ–≤ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ + –≤—Ä–µ–º—è –ø–µ—Ä–µ—Å–∞–¥–∫–∏ (60-90 –º–∏–Ω—É—Ç)
- –î–ª—è –ø–∞—Ä **–≥–æ—Ä–æ–¥ –Ø–∫—É—Ç–∏–∏ ‚Üí –≥–æ—Ä–æ–¥ –Ø–∫—É—Ç–∏–∏**:
  - –ï—Å–ª–∏ –≥–æ—Ä–æ–¥–∞ –±–ª–∏–∑–∫–∏–µ ‚Üí –ø—Ä—è–º–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç
  - –ï—Å–ª–∏ –≥–æ—Ä–æ–¥–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–µ ‚Üí hub-based —á–µ—Ä–µ–∑ –Ø–∫—É—Ç—Å–∫

### E.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –í `generateVirtualStops()`:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –¥–ª—è –≥–æ—Ä–æ–¥–∞
   - –ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
2. –í `generateVirtualRoutes()`:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏
   - –ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:
   - –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ (—Ä–µ–∞–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞/–º–∞—Ä—à—Ä—É—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
   - –ù–µ –ø–µ—Ä–µ—Ç–∏—Ä–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —É–∑–ª—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö
- ‚úÖ Hub-based –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ –Ø–∫—É—Ç—Å–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏

---

## üí° F. –£–ª—É—á—à–µ–Ω–∏–µ GraphBuilderWorker

### F.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Å–∞–¥–æ–∫ –º–µ–∂–¥—É —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞–º–∏

**–§–∞–π–ª:** `backend/src/application/workers/GraphBuilderWorker.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ü—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≥—Ä–∞—Ñ–∞:
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ –≥–æ—Ä–æ–¥–∞–º
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ—Ä–æ–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä—ë–±—Ä–∞ –ø–µ—Ä–µ—Å–∞–¥–∫–∏ –º–µ–∂–¥—É –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏:
     - –í–µ—Å –ø–µ—Ä–µ—Å–∞–¥–∫–∏: **60-90 –º–∏–Ω—É—Ç** (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞)
     - –¢–∏–ø —Ä–µ–±—Ä–∞: `TRANSFER`
     - –£—Å–ª–æ–≤–∏–µ: –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –æ–¥–Ω–æ–º –≥–æ—Ä–æ–¥–µ —Å–≤—è–∑–∞–Ω—ã –º–∞—Ä—à—Ä—É—Ç–æ–º
2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Å–∞ —Ä—ë–±–µ—Ä:
   - –î–ª—è –∞–≤–∏–∞–º–∞—Ä—à—Ä—É—Ç–æ–≤: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–µ–π—Å–∞
   - –î–ª—è –∞–≤—Ç–æ–±—É—Å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ / —Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å (60 –∫–º/—á)
   - –î–ª—è ferry-–º–∞—Ä—à—Ä—É—Ç–æ–≤: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–ø—Ä–∞–≤—ã + –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è (20 + 30 = 50 –º–∏–Ω—É—Ç)

### F.2 –í–µ—Å –ø–µ—Ä–µ—Å–∞–¥–∫–∏ (60-90 –º–∏–Ω—É—Ç)

**–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:**
- **Air ‚Üí Ground:** 90 –º–∏–Ω—É—Ç (–≤—Ä–µ–º—è –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–≥–∞–∂–∞, –ø–µ—Ä–µ—Ö–æ–¥ –∏–∑ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ –≤ –≥–æ—Ä–æ–¥)
- **Ground ‚Üí Air:** 120 –º–∏–Ω—É—Ç (–≤—Ä–µ–º—è –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, –¥–æ—Å–º–æ—Ç—Ä)
- **Ground ‚Üí Ground:** 60 –º–∏–Ω—É—Ç (–ø–µ—Ä–µ—Å–∞–¥–∫–∞ –Ω–∞ –∞–≤—Ç–æ–±—É—Å/—Ç–∞–∫—Å–∏)
- **Air ‚Üí Ferry:** 90 –º–∏–Ω—É—Ç (–ø–µ—Ä–µ—Ö–æ–¥ –∏–∑ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ –Ω–∞ –ø—Ä–∏—Å—Ç–∞–Ω—å)
- **Ferry ‚Üí Ground:** 30 –º–∏–Ω—É—Ç (–±—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ—Å–∞–¥–∫–∞ —Å –ø–∞—Ä–æ–º–∞)

### F.3 Ferry-–≤–µ—Å (20 –º–∏–Ω—É—Ç + –æ–∂–∏–¥–∞–Ω–∏–µ)

**–õ–æ–≥–∏–∫–∞:**
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–ø—Ä–∞–≤—ã: **20 –º–∏–Ω—É—Ç**
- –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø–∞—Ä–æ–º–∞:
  - –õ–µ—Ç–æ–º: **15-20 –º–∏–Ω—É—Ç** (—á–∞—Å—Ç–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ)
  - –ó–∏–º–æ–π: **30-45 –º–∏–Ω—É—Ç** (—Ä–µ–¥–∫–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ)
- **–ò—Ç–æ–≥–æ–≤—ã–π –≤–µ—Å:**
  - –õ–µ—Ç–æ–º: 20 + 20 = **40 –º–∏–Ω—É—Ç**
  - –ó–∏–º–æ–π: 20 + 45 = **65 –º–∏–Ω—É—Ç**

### F.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —É–∑–ª–æ–≤ –∏ –≤–µ—Å–æ–≤

**–§–∞–π–ª:** `backend/src/shared/validators/graph-validator.ts` (–Ω–æ–≤—ã–π)

**–§—É–Ω–∫—Ü–∏–∏:**
1. `validateGraphStructure(graph): ValidationResult`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤—Å–µ —Ä—ë–±—Ä–∞ –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–µ—Å (> 0, –Ω–µ NaN, –Ω–µ Infinity)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤—Å–µ —É–∑–ª—ã –∏–º–µ—é—Ç —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –≤—Ö–æ–¥—è—â–µ–µ –∏–ª–∏ –∏—Å—Ö–æ–¥—è—â–µ–µ —Ä–µ–±—Ä–æ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å–≤—è–∑–Ω–æ—Å—Ç—å –≥—Ä–∞—Ñ–∞ (–≤—Å–µ —É–∑–ª—ã –¥–æ—Å—Ç–∏–∂–∏–º—ã –∏–∑ hub-—É–∑–ª–∞)

2. `validateTransferEdges(graph): ValidationResult`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: —Ä—ë–±—Ä–∞ –ø–µ—Ä–µ—Å–∞–¥–∫–∏ —Å–æ–∑–¥–∞–Ω—ã —Ç–æ–ª—å–∫–æ –º–µ–∂–¥—É –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏ –≤ –æ–¥–Ω–æ–º –≥–æ—Ä–æ–¥–µ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤–µ—Å —Ä—ë–±–µ—Ä –ø–µ—Ä–µ—Å–∞–¥–∫–∏ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 30-120 –º–∏–Ω—É—Ç

3. `validateFerryEdges(graph): ValidationResult`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: ferry-—Ä—ë–±—Ä–∞ –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–µ—Å (20-65 –º–∏–Ω—É—Ç)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: ferry-—Ä—ë–±—Ä–∞ —Å–≤—è–∑—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ ferry_terminal –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- –í—ã–∑—ã–≤–∞—Ç—å `validateGraphStructure()` –ø–æ—Å–ª–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –≤ `GraphBuilderWorker`
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —É–∑–ª–æ–≤/–≤–µ—Å–æ–≤

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–µ—Ä–µ—Å–∞–¥–∫–∏ –º–µ–∂–¥—É —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í–µ—Å –ø–µ—Ä–µ—Å–∞–¥–∫–∏: 60-90 –º–∏–Ω—É—Ç (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞)
- ‚úÖ Ferry-–≤–µ—Å: 20 –º–∏–Ω—É—Ç + –æ–∂–∏–¥–∞–Ω–∏–µ (40-65 –º–∏–Ω—É—Ç)
- ‚úÖ –ì—Ä–∞—Ñ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —É–∑–ª–æ–≤ –∏ –≤–µ—Å–æ–≤

---

## üìä –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —ç—Ç–∞–ø–∞–º

### –≠—Ç–∞–ø 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: üî¥ –ö–†–ò–¢–ò–ß–ù–û)

**–í—Ä–µ–º—è:** 2-3 –¥–Ω—è

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å `airports-reference.json` –∏ `suburbs-reference.json`
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `extractCityFromStopName()` –≤ `city-normalizer.ts`
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `ODataSyncWorker.parseODataResponse()` –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –Ø–∫—É—Ç—Å–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –≥–æ—Ä–æ–¥–æ–≤
- "–¢—É–π–º–∞–¥–∞" –∏—Å—á–µ–∑–∞–µ—Ç
- –ú—É—Å–æ—Ä–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è

---

### –≠—Ç–∞–ø 2: –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: üü† –í–´–°–û–ö–ò–ô)

**–í—Ä–µ–º—è:** 3-4 –¥–Ω—è

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å `russia-federal-cities-reference.json`
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å `unified-cities-loader.ts`
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `VirtualEntitiesGeneratorWorker` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–º —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `ensureYakutiaCitiesConnectivity()` ‚Üí `ensureCitiesConnectivity()`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- 10 —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ
- –ú–∞—Ä—à—Ä—É—Ç—ã –∏–∑ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –≤ –Ø–∫—É—Ç–∏—é —Å—Ç—Ä–æ—è—Ç—Å—è

---

### –≠—Ç–∞–ø 3: –°–º–µ—à–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: üü° –°–†–ï–î–ù–ò–ô)

**–í—Ä–µ–º—è:** 4-5 –¥–Ω–µ–π

1. ‚úÖ –†–∞—Å—à–∏—Ä–∏—Ç—å `stops.json`, `routes.json`, `flights.json` –¥–ª—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –ø–µ—Ä–µ–ø—Ä–∞–≤—ã
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å `AirRouteGeneratorWorker`
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `GraphBuilderWorker` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–µ—Ä–µ—Å–∞–¥–æ–∫

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–º–µ—à–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (air + ground + ferry) —Å—Ç—Ä–æ—è—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü–µ—Ä–µ–ø—Ä–∞–≤–∞ –Ø–∫—É—Ç—Å–∫ ‚Üî –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –≠—Ç–∞–ø 4: –£–ª—É—á—à–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: üü° –°–†–ï–î–ù–ò–ô)

**–í—Ä–µ–º—è:** 3-4 –¥–Ω—è

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ä—ë–±—Ä–∞ –ø–µ—Ä–µ—Å–∞–¥–∫–∏ –≤ `GraphBuilderWorker`
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç –≤–µ—Å–∞ –ø–µ—Ä–µ—Å–∞–¥–∫–∏ (60-90 –º–∏–Ω—É—Ç)
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç ferry-–≤–µ—Å–∞ (20 –º–∏–Ω—É—Ç + –æ–∂–∏–¥–∞–Ω–∏–µ)
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å `graph-validator.ts` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ì—Ä–∞—Ñ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Å–º–µ—à–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ü–µ—Ä–µ—Å–∞–¥–∫–∏ –∏ ferry-–º–∞—Ä—à—Ä—É—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ì—Ä–∞—Ñ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

1. ‚úÖ –Ø–∫—É—Ç—Å–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
2. ‚úÖ "–¢—É–π–º–∞–¥–∞" –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥
3. ‚úÖ –ú—É—Å–æ—Ä–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö
4. ‚úÖ 10 —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ
5. ‚úÖ –ú–∞—Ä—à—Ä—É—Ç—ã –∏–∑ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –≤ –Ø–∫—É—Ç–∏—é —Å—Ç—Ä–æ—è—Ç—Å—è
6. ‚úÖ –°–º–µ—à–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (air + ground + ferry) —Å—Ç—Ä–æ—è—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
7. ‚úÖ –ü–µ—Ä–µ–ø—Ä–∞–≤–∞ –Ø–∫—É—Ç—Å–∫ ‚Üî –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ ferry-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
8. ‚úÖ –ü–µ—Ä–µ—Å–∞–¥–∫–∏ –º–µ–∂–¥—É —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
9. ‚úÖ –ì—Ä–∞—Ñ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —É–∑–ª–æ–≤ –∏ –≤–µ—Å–æ–≤
10. ‚úÖ –°–∏—Å—Ç–µ–º–∞ —É—Å—Ç–æ–π—á–∏–≤–∞ –∫ –æ—à–∏–±–∫–∞–º, –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ –Ω–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–æ–∫—Ä—ã–≤–∞—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ dev-–æ–∫—Ä—É–∂–µ–Ω–∏–∏ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –≤ production

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞**




