# –û—Ç—á—ë—Ç: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è reference-–≥–æ—Ä–æ–¥–æ–≤ + –≤–∞–ª–∏–¥–∞—Ü–∏–∏ + –ø–∞–π–ø–ª–∞–π–Ω–∞ ODataSyncWorker

**–î–∞—Ç–∞:** 2025-01-XX  
**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –≤ unified-cities reference –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏ –ø–∞–π–ø–ª–∞–π–Ω ODataSyncWorker —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## 1. –ê–Ω–∞–ª–∏–∑ Reference-—Ñ–∞–π–ª–æ–≤

### 1.1 –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚úÖ `backend/data/reference/russia-federal-cities-reference.json`
- ‚úÖ `backend/data/mock/yakutia-cities-reference.json`
- ‚úÖ `backend/src/shared/utils/unified-cities-loader.ts`

### 1.2 –°—Ç–∞—Ç—É—Å –Ω–æ–≤—ã—Ö –≥–æ—Ä–æ–¥–æ–≤

**–§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ (russia-federal-cities-reference.json):**

1. ‚úÖ **–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π**
   - –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç: –î–ê
   - normalizedName: "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–≥–ª–∞–≤–Ω—ã–π" ‚úÖ
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: 55.0415, 82.9346 ‚úÖ
   - –û–ø–∏—Å–∞–Ω–∏–µ: "–ì–ª–∞–≤–Ω—ã–π –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π –≤–æ–∫–∑–∞–ª –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞" ‚úÖ
   - isKeyCity: false ‚úÖ
   - isFederalCity: false ‚úÖ

2. ‚úÖ **–ú–æ—Å–∫–æ–≤—Å–∫–∏–π**
   - –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç: –î–ê
   - normalizedName: "–º–æ—Å–∫–æ–≤—Å–∫–∏–π" ‚úÖ
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: 59.9343, 30.3351 ‚úÖ
   - –û–ø–∏—Å–∞–Ω–∏–µ: "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –≤–æ–∫–∑–∞–ª –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞" ‚úÖ
   - isKeyCity: false ‚úÖ
   - isFederalCity: false ‚úÖ

3. ‚úÖ **–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π**
   - –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç: –î–ê
   - normalizedName: "–∫—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" ‚úÖ
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: 56.0089, 92.8537 ‚úÖ
   - –û–ø–∏—Å–∞–Ω–∏–µ: "–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π –≤–æ–∫–∑–∞–ª –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∞" ‚úÖ
   - isKeyCity: false ‚úÖ
   - isFederalCity: false ‚úÖ

4. ‚úÖ **–ò—Ä–∫—É—Ç—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π**
   - –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç: –î–ê
   - normalizedName: "–∏—Ä–∫—É—Ç—Å–∫-–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" ‚úÖ
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: 52.2812, 104.2661 ‚úÖ
   - –û–ø–∏—Å–∞–Ω–∏–µ: "–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π –≤–æ–∫–∑–∞–ª –ò—Ä–∫—É—Ç—Å–∫–∞" ‚úÖ
   - isKeyCity: false ‚úÖ
   - isFederalCity: false ‚úÖ

**–Ø–∫—É—Ç—Å–∫–∏–µ –≥–æ—Ä–æ–¥–∞ (yakutia-cities-reference.json):**

5. ‚úÖ **–ë–µ—Å—Ç—è—Ö**
   - –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç: –î–ê
   - normalizedName: "–±–µ—Å—Ç—è—Ö" ‚úÖ
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: 61.9500, 129.6000 ‚úÖ
   - –û–ø–∏—Å–∞–Ω–∏–µ: "–ü—Ä–∏–≥–æ—Ä–æ–¥ –Ø–∫—É—Ç—Å–∫–∞, –ø–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞" ‚úÖ
   - isKeyCity: false ‚úÖ

### 1.3 –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–æ–±–ª–µ–º–∞ #1: –ö–æ–Ω—Ñ–ª–∏–∫—Ç "–ë–µ—Å—Ç—è—Ö" vs "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"**

- –í —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ –¥–æ–±–∞–≤–ª–µ–Ω "–ë–µ—Å—Ç—è—Ö" (normalizedName: "–±–µ—Å—Ç—è—Ö")
- –í suburbs-reference –µ—Å—Ç—å "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" (normalizedName: "–Ω–∏–∂–Ω–∏–π –±–µ—Å—Ç—è—Ö") —Å mainCity: "–Ø–∫—É—Ç—Å–∫"
- –í stops.json: "–ü–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"
- –í routes.json: "–Ø–∫—É—Ç—Å–∫ - –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö (–ü–∞—Ä–æ–º)"

**–ê–Ω–∞–ª–∏–∑:**
- `extractCityFromStopName("–ü–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö")` ‚Üí –≤–µ—Ä–Ω—ë—Ç "–ë–µ—Å—Ç—è—Ö" (–ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–ª–æ–≤–æ, –Ω–µ –≤ stopTypeWords)
- `normalizeCityName("–ë–µ—Å—Ç—è—Ö")` ‚Üí "–±–µ—Å—Ç—è—Ö"
- `isCityInUnifiedReference("–±–µ—Å—Ç—è—Ö")` ‚Üí –≤–µ—Ä–Ω—ë—Ç true (–µ—Å—Ç—å –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ)
- `getMainCityBySuburb("–ë–µ—Å—Ç—è—Ö")` ‚Üí –≤–µ—Ä–Ω—ë—Ç null (–≤ suburbs-reference –∏—â–µ—Ç—Å—è "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö", –∞ –Ω–µ "–ë–µ—Å—Ç—è—Ö")

**–†–∏—Å–∫:** Stop –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Å cityId="–±–µ—Å—Ç—è—Ö", –Ω–æ —ç—Ç–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö". –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Ç–∞–Ω–∏—Ü–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –∞–ª–∏–∞—Å "–ë–µ—Å—Ç—è—Ö" –≤ suburbs-reference –¥–ª—è "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö", –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É extractCityFromStopName –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" –∫–∞–∫ –µ–¥–∏–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è.

**–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:**

–î–ª—è stop "–ü–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" (stop-027):
- `extractCityFromStopName("–ü–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö")` ‚Üí –≤–µ—Ä–Ω—ë—Ç "–ë–µ—Å—Ç—è—Ö" (–ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–ª–æ–≤–æ –∏–∑ ["–ü–∞—Ä–æ–º–Ω–∞—è", "–ø–µ—Ä–µ–ø—Ä–∞–≤–∞", "–ù–∏–∂–Ω–∏–π", "–ë–µ—Å—Ç—è—Ö"])
- `getMainCityBySuburb("–ë–µ—Å—Ç—è—Ö")` ‚Üí –≤–µ—Ä–Ω—ë—Ç undefined (–≤ suburbs-reference –∏—â–µ—Ç—Å—è "–±–µ—Å—Ç—è—Ö", –Ω–æ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ "–Ω–∏–∂–Ω–∏–π –±–µ—Å—Ç—è—Ö")
- `normalizeCityName("–ë–µ—Å—Ç—è—Ö")` ‚Üí "–±–µ—Å—Ç—è—Ö"
- `isCityInUnifiedReference("–±–µ—Å—Ç—è—Ö")` ‚Üí true (–µ—Å—Ç—å –≤ yakutia-cities-reference –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Stop –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Å cityId="–±–µ—Å—Ç—è—Ö", –Ω–æ —ç—Ç–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" –∏ –Ω–µ –±—É–¥–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω –≤ "–Ø–∫—É—Ç—Å–∫" —á–µ—Ä–µ–∑ suburbs-reference.

**–í–ª–∏—è–Ω–∏–µ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç—ã:**
- Routes "–Ø–∫—É—Ç—Å–∫ - –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö (–ü–∞—Ä–æ–º)" –∏ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö - –Ø–∫—É—Ç—Å–∫ (–ü–∞—Ä–æ–º)" –∏—Å–ø–æ–ª—å–∑—É—é—Ç stop-027
- –ï—Å–ª–∏ stop-027 —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Å cityId="–±–µ—Å—Ç—è—Ö", —Ç–æ –º–∞—Ä—à—Ä—É—Ç—ã –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ cityId –Ω–µ –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é
- –ü—Ä–∏ –ø–æ–∏—Å–∫–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—É—Ç–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É "–ë–µ—Å—Ç—è—Ö" (–≥–æ—Ä–æ–¥) –∏ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" (–ø—Ä–∏–≥–æ—Ä–æ–¥ –Ø–∫—É—Ç—Å–∫–∞)

---

## 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

### 2.1 extractCityFromStopName()

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö –≥–æ—Ä–æ–¥–æ–≤:**

1. **"–í–æ–∫–∑–∞–ª –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π"**
   - –°–ª–æ–≤–∞: ["–í–æ–∫–∑–∞–ª", "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π"]
   - lastWord: "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–≥–ª–∞–≤–Ω—ã–π" (lowercase)
   - stopTypeWords.has("–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–≥–ª–∞–≤–Ω—ã–π") ‚Üí false
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π" ‚úÖ

2. **"–í–æ–∫–∑–∞–ª –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ –ú–æ—Å–∫–æ–≤—Å–∫–∏–π"**
   - –°–ª–æ–≤–∞: ["–í–æ–∫–∑–∞–ª", "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π"]
   - lastWord: "–º–æ—Å–∫–æ–≤—Å–∫–∏–π" (lowercase)
   - stopTypeWords.has("–º–æ—Å–∫–æ–≤—Å–∫–∏–π") ‚Üí false
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π" ‚úÖ

3. **"–í–æ–∫–∑–∞–ª –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π"**
   - –°–ª–æ–≤–∞: ["–í–æ–∫–∑–∞–ª", "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π"]
   - lastWord: "–∫—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" (lowercase)
   - stopTypeWords.has("–∫—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π") ‚Üí false
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" ‚úÖ

4. **"–í–æ–∫–∑–∞–ª –ò—Ä–∫—É—Ç—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π"**
   - –°–ª–æ–≤–∞: ["–í–æ–∫–∑–∞–ª", "–ò—Ä–∫—É—Ç—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π"]
   - lastWord: "–∏—Ä–∫—É—Ç—Å–∫-–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" (lowercase)
   - stopTypeWords.has("–∏—Ä–∫—É—Ç—Å–∫-–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π") ‚Üí false
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ò—Ä–∫—É—Ç—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" ‚úÖ

5. **"–ü–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"**
   - –°–ª–æ–≤–∞: ["–ü–∞—Ä–æ–º–Ω–∞—è", "–ø–µ—Ä–µ–ø—Ä–∞–≤–∞", "–ù–∏–∂–Ω–∏–π", "–ë–µ—Å—Ç—è—Ö"]
   - lastWord: "–±–µ—Å—Ç—è—Ö" (lowercase)
   - stopTypeWords.has("–±–µ—Å—Ç—è—Ö") ‚Üí false
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ë–µ—Å—Ç—è—Ö" ‚ö†Ô∏è (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö")

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–ª—è "–ü–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω—ë—Ç —Ç–æ–ª—å–∫–æ "–ë–µ—Å—Ç—è—Ö", –∞ –Ω–µ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö". –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–∏–ø–∞ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" –≤ extractCityFromStopName, –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å suburbs-reference –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤ unified reference.

### 2.2 normalizeCityName()

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –≥–æ—Ä–æ–¥–æ–≤:**

1. "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π" ‚Üí "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–≥–ª–∞–≤–Ω—ã–π" ‚úÖ
2. "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π" ‚Üí "–º–æ—Å–∫–æ–≤—Å–∫–∏–π" ‚úÖ
3. "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" ‚Üí "–∫—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" ‚úÖ
4. "–ò—Ä–∫—É—Ç—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" ‚Üí "–∏—Ä–∫—É—Ç—Å–∫-–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" ‚úÖ
5. "–ë–µ—Å—Ç—è—Ö" ‚Üí "–±–µ—Å—Ç—è—Ö" ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### 2.3 isCityInUnifiedReference()

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∏—Å–∫–∞ –Ω–æ–≤—ã—Ö –≥–æ—Ä–æ–¥–æ–≤:**

1. "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–≥–ª–∞–≤–Ω—ã–π" ‚Üí true ‚úÖ (–µ—Å—Ç—å –≤ russia-federal-cities-reference)
2. "–º–æ—Å–∫–æ–≤—Å–∫–∏–π" ‚Üí true ‚úÖ (–µ—Å—Ç—å –≤ russia-federal-cities-reference)
3. "–∫—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" ‚Üí true ‚úÖ (–µ—Å—Ç—å –≤ russia-federal-cities-reference)
4. "–∏—Ä–∫—É—Ç—Å–∫-–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π" ‚Üí true ‚úÖ (–µ—Å—Ç—å –≤ russia-federal-cities-reference)
5. "–±–µ—Å—Ç—è—Ö" ‚Üí true ‚úÖ (–µ—Å—Ç—å –≤ yakutia-cities-reference)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ unified reference.

---

## 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ ODataSyncWorker

### 3.1 –û–±—Ä–∞–±–æ—Ç–∫–∞ stops

**–õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Å—Ç—Ä–æ–∫–∏ 280-340):**

1. ‚úÖ **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞:** `extractCityFromStopName(stopData.name)`
2. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≥–æ—Ä–æ–¥–∞:** `getMainCityBySuburb(cityName)` ‚Üí –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–∏–≥–æ—Ä–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –≥–æ—Ä–æ–¥
3. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞:** `getCityByAirportName(cityName)` ‚Üí –∑–∞–º–µ–Ω—è–µ—Ç –∞—ç—Ä–æ–ø–æ—Ä—Ç –Ω–∞ –≥–æ—Ä–æ–¥
4. ‚úÖ **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:** `normalizeCityName(cityName)`
5. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è:** `validateStopData(stopDataForValidation)`
6. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ:** `isCityInUnifiedReference(normalizedCityName)`

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

**–ü—Ä–æ–±–ª–µ–º–∞ #1: –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫**

–¢–µ–∫—É—â–∏–π –ø–æ—Ä—è–¥–æ–∫:
1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≥–æ—Ä–æ–¥–∞ (suburbs-reference)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ (airports-reference)
4. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
5. –í–∞–ª–∏–¥–∞—Ü–∏—è
6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ unified reference

**–†–∏—Å–∫:** –î–ª—è "–ü–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö":
- extractCityFromStopName ‚Üí "–ë–µ—Å—Ç—è—Ö"
- getMainCityBySuburb("–ë–µ—Å—Ç—è—Ö") ‚Üí null (–∏—â–µ—Ç—Å—è "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö", –∞ –Ω–µ "–ë–µ—Å—Ç—è—Ö")
- normalizeCityName("–ë–µ—Å—Ç—è—Ö") ‚Üí "–±–µ—Å—Ç—è—Ö"
- isCityInUnifiedReference("–±–µ—Å—Ç—è—Ö") ‚Üí true

Stop –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Å cityId="–±–µ—Å—Ç—è—Ö", –Ω–æ —ç—Ç–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö".

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏–ª–∏ —É–ª—É—á—à–∏—Ç—å extractCityFromStopName –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–∏–ø–∞ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö".

**–ü—Ä–æ–±–ª–µ–º–∞ #2: –í–∞–ª–∏–¥–∞—Ü–∏—è SERVICE_WORDS**

–í `stop-validator.ts` –µ—Å—Ç—å —Å–ø–∏—Å–æ–∫ SERVICE_WORDS:
- '–≥–ª–∞–≤–Ω—ã–π'
- '–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π'

**–†–∏—Å–∫:** –î–ª—è "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π" –∏ "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π":
- normalizeCityName("–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π") ‚Üí "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–≥–ª–∞–≤–Ω—ã–π"
- validateStopData –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å SERVICE_WORDS
- "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–≥–ª–∞–≤–Ω—ã–π" –Ω–µ —Ä–∞–≤–Ω–æ "–≥–ª–∞–≤–Ω—ã–π" ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–π–¥—ë—Ç ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è SERVICE_WORDS –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞.

### 3.2 –û–±—Ä–∞–±–æ—Ç–∫–∞ routes

**–õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Å—Ç—Ä–æ–∫–∏ 358+):**

- Routes –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ stops
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç fromStopId –∏ toStopId –∏–∑ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö stops
- –ï—Å–ª–∏ stops —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, routes —Ç–∞–∫–∂–µ –±—É–¥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Routes –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –µ—Å–ª–∏ stops —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.

### 3.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ flights

**–õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**

- Flights –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ routes —á–µ—Ä–µ–∑ routeId
- –ï—Å–ª–∏ routes —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, flights —Ç–∞–∫–∂–µ –±—É–¥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Flights –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –µ—Å–ª–∏ routes —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.

---

## 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ GraphBuilderWorker

### 4.1 –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–æ–≤

**–õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —É–∑–ª–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 169-177):**

- –í—Å–µ stops (real + virtual) –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ nodes
- cityId —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ stop
- –ï—Å–ª–∏ stop.cityId = "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–≥–ª–∞–≤–Ω—ã–π", —Ç–æ node.cityId = "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–≥–ª–∞–≤–Ω—ã–π"

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–∑–ª—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –≥–æ—Ä–æ–¥–æ–≤.

### 4.2 –°–æ–∑–¥–∞–Ω–∏–µ —Ä—ë–±–µ—Ä

**–õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ä—ë–±–µ—Ä (—Å—Ç—Ä–æ–∫–∏ 280+):**

- –†—ë–±—Ä–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ routes
- –ï—Å–ª–∏ routes —Å–æ–¥–µ—Ä–∂–∞—Ç stops —Å –Ω–æ–≤—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏, —Ä—ë–±—Ä–∞ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†—ë–±—Ä–∞ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞.

### 4.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ undefined cityId

**–õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:**

- –í buildGraphStructure –≤—Å–µ stops –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å cityId
- –ï—Å–ª–∏ cityId –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —É–∑–µ–ª –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω, –Ω–æ –±–µ–∑ cityId

**–†–∏—Å–∫:** –ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ stop –Ω–µ –ø—Ä–æ—à—ë–ª –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –±—ã–ª –ø—Ä–æ–ø—É—â–µ–Ω, –Ω–æ route —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ–≥–æ, –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≥—Ä–∞—Ñ–∞.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è –≤—Å–µ—Ö stops, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è routes, –ø–µ—Ä–µ–¥ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ–º –≥—Ä–∞—Ñ–∞.

---

## 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ End-to-End –ø–∞–π–ø–ª–∞–π–Ω–∞

### 5.1 Stops ‚Üí Routes ‚Üí Flights ‚Üí Reference-–≤–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞

**–û–∂–∏–¥–∞–µ–º—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:**

1. **Stops –∑–∞–≥—Ä—É–∑–∫–∞:**
   - "–í–æ–∫–∑–∞–ª –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π" ‚Üí extractCityFromStopName ‚Üí "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π" ‚Üí normalizeCityName ‚Üí "–Ω–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–≥–ª–∞–≤–Ω—ã–π" ‚Üí isCityInUnifiedReference ‚Üí true ‚Üí —Å–æ—Ö—Ä–∞–Ω—ë–Ω ‚úÖ

2. **Routes –∑–∞–≥—Ä—É–∑–∫–∞:**
   - Routes –∏—Å–ø–æ–ª—å–∑—É—é—Ç fromStopId –∏ toStopId –∏–∑ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö stops
   - –ï—Å–ª–∏ stops —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã, routes –±—É–¥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ ‚úÖ

3. **Flights –∑–∞–≥—Ä—É–∑–∫–∞:**
   - Flights –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ routes —á–µ—Ä–µ–∑ routeId
   - –ï—Å–ª–∏ routes —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã, flights –±—É–¥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ ‚úÖ

4. **Reference-–≤–∞–ª–∏–¥–∞—Ü–∏—è:**
   - –í—Å–µ –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ unified reference ‚úÖ
   - isCityInUnifiedReference –≤–µ—Ä–Ω—ë—Ç true –¥–ª—è –≤—Å–µ—Ö ‚úÖ

5. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞:**
   - GraphBuilderWorker –ø–æ–ª—É—á–∏—Ç –≤—Å–µ stops, routes, flights
   - –°–æ–∑–¥–∞—Å—Ç —É–∑–ª—ã –¥–ª—è –≤—Å–µ—Ö stops —Å –Ω–æ–≤—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏ ‚úÖ
   - –°–æ–∑–¥–∞—Å—Ç —Ä—ë–±—Ä–∞ –¥–ª—è –≤—Å–µ—Ö routes ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–∞–π–ø–ª–∞–π–Ω –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –≥–æ—Ä–æ–¥–æ–≤, –∫—Ä–æ–º–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã —Å "–ë–µ—Å—Ç—è—Ö" vs "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö".

---

## 6. –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 6.1 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º** ‚úÖ

### 6.2 –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–æ–±–ª–µ–º–∞ #1: –ö–æ–Ω—Ñ–ª–∏–∫—Ç "–ë–µ—Å—Ç—è—Ö" vs "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** extractCityFromStopName("–ü–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö") –≤–µ—Ä–Ω—ë—Ç "–ë–µ—Å—Ç—è—Ö", –∞ –Ω–µ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"
- **–í–ª–∏—è–Ω–∏–µ:** Stop –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Å cityId="–±–µ—Å—Ç—è—Ö", –Ω–æ —ç—Ç–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"
- **–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π ‚Äî –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –í–∞—Ä–∏–∞–Ω—Ç A: –î–æ–±–∞–≤–∏—Ç—å –∞–ª–∏–∞—Å "–ë–µ—Å—Ç—è—Ö" –≤ suburbs-reference –¥–ª—è "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"
  - –í–∞—Ä–∏–∞–Ω—Ç B: –£–ª—É—á—à–∏—Ç—å extractCityFromStopName –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–∏–ø–∞ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"
  - –í–∞—Ä–∏–∞–Ω—Ç C: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å suburbs-reference –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤ unified reference

**–ü—Ä–æ–±–ª–µ–º–∞ #2: –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ ODataSyncWorker**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ suburbs-reference –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ extractCityFromStopName, –Ω–æ extractCityFromStopName –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è
- **–í–ª–∏—è–Ω–∏–µ:** –î–ª—è "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" suburbs-reference –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –∏—â–µ—Ç—Å—è "–ë–µ—Å—Ç—è—Ö", –∞ –Ω–µ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"
- **–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π ‚Äî –≤–ª–∏—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"
- **–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏–ª–∏ —É–ª—É—á—à–∏—Ç—å extractCityFromStopName

### 6.3 –°–∫—Ä—ã—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–æ–±–ª–µ–º–∞ #1: –î–µ—Ñ–∏—Å—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –≥–æ—Ä–æ–¥–æ–≤**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–µ—Ñ–∏—Å—ã: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π", "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π", "–ò—Ä–∫—É—Ç—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π"
- **–í–ª–∏—è–Ω–∏–µ:** normalizeCityName –Ω–µ —É–¥–∞–ª—è–µ—Ç –¥–µ—Ñ–∏—Å—ã, —á—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π ‚Äî –¥–µ—Ñ–∏—Å—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ normalizedName, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫—É

**–ü—Ä–æ–±–ª–µ–º–∞ #2: isFederalCity: false –¥–ª—è –Ω–æ–≤—ã—Ö –≥–æ—Ä–æ–¥–æ–≤**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –≤ russia-federal-cities-reference –∏–º–µ—é—Ç isFederalCity: false
- **–í–ª–∏—è–Ω–∏–µ:** getAllFederalCities() –Ω–µ –≤–µ—Ä–Ω—ë—Ç —ç—Ç–∏ –≥–æ—Ä–æ–¥–∞
- **–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π ‚Äî —ç—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –Ω–µ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –≥–æ—Ä–æ–¥–∞, –∞ –≤–æ–∫–∑–∞–ª—ã

---

## 7. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 7.1 –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

**–ù–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π** ‚úÖ

### 7.2 –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

**–£–ª—É—á—à–µ–Ω–∏–µ #1: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –≤ extractCityFromStopName**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–∏–ø–∞ "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö", "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - –ü—Ä–æ–≤–µ—Ä—è—Ç—å suburbs-reference –ø–µ—Ä–µ–¥ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –≥–æ—Ä–æ–¥–∞
  - –ò–ª–∏ —É–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏–∫—É –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π

**–£–ª—É—á—à–µ–Ω–∏–µ #2: –î–æ–±–∞–≤–∏—Ç—å –∞–ª–∏–∞—Å "–ë–µ—Å—Ç—è—Ö" –≤ suburbs-reference**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å "–ë–µ—Å—Ç—è—Ö" –≤ aliases –¥–ª—è "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" –≤ suburbs-reference
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π (—Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö")
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - –û–±–Ω–æ–≤–∏—Ç—å suburbs-reference.json: –¥–æ–±–∞–≤–∏—Ç—å "–ë–µ—Å—Ç—è—Ö" –≤ aliases –¥–ª—è "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"
  - –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç getMainCityBySuburb("–ë–µ—Å—Ç—è—Ö") –≤–µ—Ä–Ω—É—Ç—å "–Ø–∫—É—Ç—Å–∫"
  - Stop –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Å cityId="—è–∫—É—Ç—Å–∫" –≤–º–µ—Å—Ç–æ "–±–µ—Å—Ç—è—Ö"

**–£–ª—É—á—à–µ–Ω–∏–µ #3: –£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ ODataSyncWorker**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ cityName –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ suburbs/airports
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω–æ–µ cityName –∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ normalizedCityName
  - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (suburbs/airports) –∏–∑–º–µ–Ω–∏–ª–∞ cityName

### 7.3 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è #1: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ unified-cities-reference**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** unified-cities-reference —É–∂–µ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –≤ unified-cities-loader
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è #2: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ stops**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** ODataSyncWorker —É–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç stops –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ Promise.all
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## 8. –†–∏—Å–∫–∏

### 8.1 –í—ã—Å–æ–∫–∏–µ —Ä–∏—Å–∫–∏

**–ù–µ—Ç –≤—ã—Å–æ–∫–∏—Ö —Ä–∏—Å–∫–æ–≤** ‚úÖ

### 8.2 –°—Ä–µ–¥–Ω–∏–µ —Ä–∏—Å–∫–∏

**–†–∏—Å–∫ #1: –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** Stop "–ü–∞—Ä–æ–º–Ω–∞—è –ø–µ—Ä–µ–ø—Ä–∞–≤–∞ –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Å cityId="–±–µ—Å—Ç—è—Ö" –≤–º–µ—Å—Ç–æ "–Ω–∏–∂–Ω–∏–π –±–µ—Å—Ç—è—Ö"
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
- **–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ ‚Äî –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –∞–ª–∏–∞—Å "–ë–µ—Å—Ç—è—Ö" –≤ suburbs-reference –∏–ª–∏ —É–ª—É—á—à–∏—Ç—å extractCityFromStopName

### 8.3 –ù–∏–∑–∫–∏–µ —Ä–∏—Å–∫–∏

**–†–∏—Å–∫ #1: –î–µ—Ñ–∏—Å—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ –±—É–¥—É—â–µ–º**

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–µ—Ñ–∏—Å—ã –≤ normalizedName –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –∏–ª–∏ –ø–æ–∏—Å–∫–µ
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
- **–í–ª–∏—è–Ω–∏–µ:** –ù–∏–∑–∫–æ–µ ‚Äî —Ç–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

---

## 9. –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

### 9.1 –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- ‚úÖ Reference-—Ñ–∞–π–ª—ã: –≤—Å–µ –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏: —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
- ‚úÖ ODataSyncWorker: –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–∫—Ä–æ–º–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã —Å "–ë–µ—Å—Ç—è—Ö")
- ‚úÖ GraphBuilderWorker: —Å–æ–∑–¥–∞—Å—Ç —É–∑–ª—ã –∏ —Ä—ë–±—Ä–∞ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
- ‚úÖ End-to-end –ø–∞–π–ø–ª–∞–π–Ω: –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 9.2 –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- ‚ö†Ô∏è 1 –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –∫–æ–Ω—Ñ–ª–∏–∫—Ç "–ë–µ—Å—Ç—è—Ö" vs "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö"
- ‚úÖ 0 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º

### 9.3 –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- üîß 3 —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏—è (—Å—Ä–µ–¥–Ω–∏–π/–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- ‚úÖ 0 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π

### 9.4 –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å

**‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å –Ω–æ–≤—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏**

–í—Å–µ –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ unified-cities reference –∏ –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å–≤—è–∑–∞–Ω–∞ —Å "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö" vs "–ë–µ—Å—Ç—è—Ö", –Ω–æ –æ–Ω–∞ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ—à–µ–Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∞–ª–∏–∞—Å–∞ "–ë–µ—Å—Ç—è—Ö" –≤ suburbs-reference –¥–ª—è "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö".

### 9.5 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è –Ω–æ–≤—ã—Ö stops:**

- ‚úÖ **stop-006 (–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π)**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ route-004 "–ò—Ä–∫—É—Ç—Å–∫ - –ú–æ—Å–∫–≤–∞ (–ü–æ–µ–∑–¥)"
- ‚úÖ **stop-008 (–ú–æ—Å–∫–æ–≤—Å–∫–∏–π)**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ route-007 "–ú–æ—Å–∫–≤–∞ - –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (–ü–æ–µ–∑–¥)"
- ‚úÖ **stop-010 (–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π)**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ route-010 "–ò—Ä–∫—É—Ç—Å–∫ - –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ (–ü–æ–µ–∑–¥)"
- ‚úÖ **stop-012 (–ò—Ä–∫—É—Ç—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π)**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ route-010 "–ò—Ä–∫—É—Ç—Å–∫ - –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ (–ü–æ–µ–∑–¥)"
- ‚úÖ **stop-027 (–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö)**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ route-040 "–Ø–∫—É—Ç—Å–∫ - –ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö (–ü–∞—Ä–æ–º)" –∏ route-041 "–ù–∏–∂–Ω–∏–π –ë–µ—Å—Ç—è—Ö - –Ø–∫—É—Ç—Å–∫ (–ü–∞—Ä–æ–º)"

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –Ω–æ–≤—ã–µ stops –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –º–∞—Ä—à—Ä—É—Ç–∞—Ö, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∏—Ö –≤–∞–∂–Ω–æ—Å—Ç—å –¥–ª—è —Å–∏—Å—Ç–µ–º—ã.

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ routes –≤ ODataSyncWorker:**

- Routes —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–ª–∏—á–∏—é stops (—Å—Ç—Ä–æ–∫–∏ 360-364)
- Routes –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–∞–ª–∏—á–∏–µ stops –≤ unified reference
- Routes –∏—Å–ø–æ–ª—å–∑—É—é—Ç fromStopId –∏ toStopId –∏–∑ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö stops

**–†–∏—Å–∫:** –ï—Å–ª–∏ stop –Ω–µ –±—ã–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∏–∑-–∑–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –Ω–æ route —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ–≥–æ, route –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º stopId.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è stops –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º routes (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ stops –∏–∑ stopsSequence —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ë–î).

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ flights –≤ ODataSyncWorker:**

- Flights –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ routes —á–µ—Ä–µ–∑ routeId
- –ï—Å–ª–∏ route –Ω–µ –±—ã–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω, flight —Ç–∞–∫–∂–µ –Ω–µ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω
- Flights –∏—Å–ø–æ–ª—å–∑—É—é—Ç fromStopId –∏ toStopId –∏–∑ routes

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Flights –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –µ—Å–ª–∏ routes —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –≤ GraphBuilderWorker:**

- GraphBuilderWorker –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ stops, routes, flights –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- –°–æ–∑–¥–∞—ë—Ç —É–∑–ª—ã –¥–ª—è –≤—Å–µ—Ö stops (—Å—Ç—Ä–æ–∫–∏ 388-394)
- –°–æ–∑–¥–∞—ë—Ç —Ä—ë–±—Ä–∞ –¥–ª—è –≤—Å–µ—Ö flights (—Å—Ç—Ä–æ–∫–∏ 411-449)
- –î–æ–±–∞–≤–ª—è–µ—Ç transfer edges –¥–ª—è stops –≤ –æ–¥–Ω–æ–º –≥–æ—Ä–æ–¥–µ (—Å—Ç—Ä–æ–∫–∏ 450+)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì—Ä–∞—Ñ –±—É–¥–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –≥–æ—Ä–æ–¥–æ–≤, –µ—Å–ª–∏ stops –∏ routes —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.

---

**–°—Ç–∞—Ç—É—Å:** –û—Ç—á—ë—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.

