# –ü–ª–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### ‚úÖ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **Backend:** 
  - ‚úÖ Zod –≤–µ—Ä—Å–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞ (`^3.25.76`)
  - ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
  - ‚ö†Ô∏è `package-lock.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω
- **Frontend:**
  - ‚úÖ Zod –≤–µ—Ä—Å–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞ (`^3.25.76`)
  - ‚úÖ Husky –∏ lint-staged —É–∂–µ —É–¥–∞–ª–µ–Ω—ã
  - ‚ö†Ô∏è `package-lock.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω

#### 2. Dockerfile'—ã
- ‚úÖ Backend Dockerfile –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω (deps-prod stage —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚úÖ Frontend Dockerfile –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω (deps-prod stage –¥–æ–±–∞–≤–ª–µ–Ω)
- ‚úÖ BuildKit cache mounts –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- ‚úÖ Standalone mode –≤–∫–ª—é—á–µ–Ω –≤ frontend

#### 3. Docker-compose.yml
- ‚úÖ –í—Å–µ healthchecks –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –í—Å–µ start_period —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –í—Å–µ depends_on —Å condition: service_healthy
- ‚úÖ –í—Å–µ volumes –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ

### üìã –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

#### –®–ê–ì 1: –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ lock-—Ñ–∞–π–ª–æ–≤
**–¶–µ–ª—å:** –£—Å—Ç—Ä–∞–Ω–∏—Ç—å —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –º–µ–∂–¥—É package.json –∏ package-lock.json

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –£–¥–∞–ª–∏—Ç—å `backend/package-lock.json`
2. –£–¥–∞–ª–∏—Ç—å `frontend/package-lock.json`
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å `npm install` –≤ –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `npm ci` –≤ –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

**–§–∞–π–ª—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:**
- `backend/package-lock.json`
- `frontend/package-lock.json`

#### –®–ê–ì 2: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ Backend: –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- ‚úÖ Frontend: –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- ‚úÖ Zod –≤–µ—Ä—Å–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

#### –®–ê–ì 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Dockerfile'–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è –≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –ü–æ—Ä—è–¥–æ–∫ COPY –æ–ø—Ç–∏–º–∞–ª–µ–Ω
- ‚úÖ BuildKit cache mounts –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- ‚úÖ deps-prod stage –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ù–µ—Ç global install
- ‚úÖ Production –æ–±—Ä–∞–∑—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã

#### –®–ê–ì 4: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ docker-compose.yml
**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –í—Å–µ healthchecks –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –í—Å–µ start_period —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –í—Å–µ depends_on —Å condition: service_healthy
- ‚úÖ –í—Å–µ volumes –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ

## –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö

#### 1. –£–¥–∞–ª–µ–Ω–∏–µ lock-—Ñ–∞–π–ª–æ–≤ (–¥–ª—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è)
- `backend/package-lock.json` ‚Äî —É–¥–∞–ª–∏—Ç—å
- `frontend/package-lock.json` ‚Äî —É–¥–∞–ª–∏—Ç—å

#### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ package.json (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- `backend/package.json` ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–≤—Å—ë –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
- `frontend/package.json` ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–≤—Å—ë –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

#### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Dockerfile'–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- `backend/Dockerfile` ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω)
- `frontend/Dockerfile` ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω)

#### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ docker-compose.yml (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- `docker-compose.yml` ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω)

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è lock-—Ñ–∞–π–ª–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# Backend
cd backend
npm install
npm ci  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å

# Frontend
cd frontend
npm install
npm ci  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å

# –ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É
docker compose build
docker compose up -d
```

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
- ‚úÖ `npm ci` —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ –≤ –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
- ‚úÖ `docker compose build` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ `docker compose up` –ø–æ–¥–Ω–∏–º–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ Backend –∏ frontend –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ Lock-—Ñ–∞–π–ª—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –û–±—Ä–∞–∑—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ



