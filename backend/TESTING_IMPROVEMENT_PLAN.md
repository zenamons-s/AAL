# –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã

**–î–∞—Ç–∞:** 2024-12-19  
**–¶–µ–ª—å:** –ü—Ä–∏–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç—ã, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º—ã

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- **Unit —Ç–µ—Å—Ç—ã:** 32 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
  - Validation middleware (7 —Ç–µ—Å—Ç–æ–≤)
  - Error handler middleware (4 —Ç–µ—Å—Ç–∞)
  - Pagination utilities (13 —Ç–µ—Å—Ç–æ–≤)
  - Pagination validator (8 —Ç–µ—Å—Ç–æ–≤)
- **Build:** –°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- **Type-check:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- **CI/CD:** –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã workflows –¥–ª—è lint, type-check, unit tests, build, security audit

### ‚ùå –ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** 13 test suites –ø–∞–¥–∞—é—Ç –∏–∑-–∑–∞:
  1. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∞–π–ª `src/__tests__/integration/helpers/test-data.ts`
  2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã `saveGraph()` - –æ–∂–∏–¥–∞–µ—Ç—Å—è 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (version, nodes, edges, metadata), –Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è 2
  3. –û—à–∏–±–∫–∞ –≤ `ODataSyncWorker.integration.test.ts` - –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `redisClient` –Ω–µ –æ–±—ä—è–≤–ª–µ–Ω–∞ (–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ `_redisClient`)
  4. –û—à–∏–±–∫–∞ –≤ `PostgresGraphRepository.integration.test.ts` - —Å–≤–æ–π—Å—Ç–≤–æ `distance` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `GraphNeighbor`
- **E2E —Ç–µ—Å—Ç—ã:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- **–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã, –Ω–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª–∏—Å—å

### üìà –ú–µ—Ç—Ä–∏–∫–∏:
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:** ~1.61% (–∏–∑-–∑–∞ –ø–∞–¥–∞—é—â–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ unit —Ç–µ—Å—Ç–æ–≤:** 32
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:** ~10-15 (–Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ E2E —Ç–µ—Å—Ç–æ–≤:** 0

---

## üéØ –ó–∞–¥–∞—á–∏ –∏ –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ó–∞–¥–∞—á–∞ 1: –ü–æ—á–∏–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –∏ –¥–æ–±–∏—Ç—å—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–µ–ª–µ–Ω–æ–≥–æ CI

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (100% - 121/121 unit —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç)

**–¶–µ–ª—å:** –í—Å–µ —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ `npm test` –∏ CI pipeline –ø—Ä–æ—Ö–æ–¥—è—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

**–§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –ø—Ä–æ–≥–æ–Ω `npm test` –∑–∞–≤–µ—Ä—à—ë–Ω —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –í—Å–µ 121 unit —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥—è—Ç (13 test suites)
- ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è CI (`npm run test:unit`) –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–≥–æ–Ω–∞ (—Ç—Ä–µ–±—É—é—Ç –ë–î, –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ CI —á–µ—Ä–µ–∑ `npm run test:integration`)

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
1. ‚úÖ –°–æ–∑–¥–∞–Ω `test-data.ts` helper –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–∏–≥–Ω–∞—Ç—É—Ä—ã `saveGraph()` –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö (version, nodes, edgesMap, metadata)
3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (redisClient ‚Üí _redisClient)
4. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º GraphNeighbor (distance ‚Üí metadata.distance)
5. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Å—É—â–Ω–æ—Å—Ç–µ–π (Dataset, Graph, Flight, Route, VirtualRoute)
6. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã buildTimestamp (Date ‚Üí number)
7. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã SQL –æ–∂–∏–¥–∞–Ω–∏—è –≤ PostgresStopRepository (SELECT * ‚Üí explicit columns)
8. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã Redis –∫–ª—é—á–∏ –≤ PostgresGraphRepository (graph:version ‚Üí graph:current:version)
9. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–æ–∫–∏ –¥–ª—è getRealStopsByCityName –∏ getVirtualStopsByCityName
10. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–æ–∫–∏ Redis (–¥–æ–±–∞–≤–ª–µ–Ω—ã sIsMember, sMembers, sAdd, multi)
11. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–∂–∏–¥–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –≤ worker —Ç–µ—Å—Ç–∞—Ö (CANNOT_RUN –≤–º–µ—Å—Ç–æ NO_DATASET)
12. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–æ–∫–∏ –≤ PostgresDatasetRepository (id –∫–∞–∫ —á–∏—Å–ª–æ, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π)
13. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç stops_sequence –≤ PostgresRouteRepository (RouteStop[] –≤–º–µ—Å—Ç–æ string[])
14. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Jest: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–≥–æ–Ω–∞ (`npm test`), –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ `npm run test:integration` –≤ CI

**–û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã:**
1. ‚úÖ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!
   - GraphBuilderWorker.test.ts - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (–¥–æ–±–∞–≤–ª–µ–Ω stop-2 –≤ –º–æ–∫–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞)
   - ODataSyncWorker.test.ts - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–æ–∫–∏ –¥–ª—è getLatestDataset –∏ stopsSequence –≤ Route)
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Jest –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

**–¢–∏–ø—ã —É—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º:**
- SQL –æ–∂–∏–¥–∞–Ω–∏—è (SELECT * ‚Üí explicit columns)
- Redis –∫–ª—é—á–∏ (graph:version ‚Üí graph:current:version)
- –ú–æ–∫–∏ –≤–æ—Ä–∫–µ—Ä–æ–≤ (–æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö)
- –°–≤–æ–π—Å—Ç–≤–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π (metadata nesting, –Ω–æ–≤—ã–µ/–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è)
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –¥–æ–º–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (–ø–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ç–∏–ø—ã)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Jest config –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è unit/integration)

**–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:**

#### ‚úÖ –®–∞–≥ 0: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ç–µ—Å—Ç–æ–≤ GraphBuilderWorker (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)
- **–î–∞—Ç–∞:** 2024-12-19
- **–ö–æ–º–∞–Ω–¥–∞:** `npm run test:unit -- GraphBuilderWorker`
- **–§–∞–π–ª —Ç–µ—Å—Ç–æ–≤:** `src/__tests__/unit/workers/GraphBuilderWorker.test.ts`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã GraphBuilderWorker –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
  - –¢–µ—Å—Ç "should build graph successfully" - ‚úÖ PASSED
  - –¢–µ—Å—Ç "should skip when no dataset found" - ‚úÖ PASSED
  - –¢–µ—Å—Ç "should skip when graph already exists" - ‚úÖ PASSED
  - –¢–µ—Å—Ç "should validate graph before saving" - ‚úÖ PASSED
  - –¢–µ—Å—Ç "should allow running when no graph exists for dataset" - ‚úÖ PASSED
  - –¢–µ—Å—Ç "should prevent running when graph exists" - ‚úÖ PASSED
  - –ò –¥—Ä—É–≥–∏–µ —Ç–µ—Å—Ç—ã - –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç
- **–°—Ç–∞—Ç—É—Å:** –ü–µ—Ä–≤—ã–π —à–∞–≥ –ø–ª–∞–Ω–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω —Ç–µ—Å—Ç–æ–≤ GraphBuilderWorker) –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ

#### –®–∞–≥ 1.1: –°–æ–∑–¥–∞—Ç—å `test-data.ts` helper
- **–§–∞–π–ª:** `backend/src/__tests__/integration/helpers/test-data.ts`
- **–§—É–Ω–∫—Ü–∏–∏:**
  - `createTestRealStop(options?)` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ RealStop
  - `createTestVirtualStop(options?)` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ VirtualStop
  - `createTestRoute(options?)` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ Route
  - `createTestFlight(options?)` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ Flight
  - `createTestGraph(options?)` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ Graph
  - `createTestGraphStructure(options?)` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≥—Ä–∞—Ñ–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ò–º–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–µ—Å—Ç–∞—Ö

#### –®–∞–≥ 1.2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—ã `saveGraph()` –≤ —Ç–µ—Å—Ç–∞—Ö
- **–§–∞–π–ª—ã:**
  - `OptimizedBuildRouteUseCase.integration.test.ts` (3 –º–µ—Å—Ç–∞)
  - `PostgresGraphRepository.integration.test.ts` (2 –º–µ—Å—Ç–∞)
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å –≤—ã–∑–æ–≤—ã `saveGraph(nodes, edges)` –Ω–∞ `saveGraph(version, nodes, edgesMap, metadata)`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç

#### –®–∞–≥ 1.3: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ `ODataSyncWorker.integration.test.ts`
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `redisClient` –Ω–µ –æ–±—ä—è–≤–ª–µ–Ω–∞
- **–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å `redisClient` –Ω–∞ `_redisClient` –∏–ª–∏ —É–±—Ä–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å `_`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –¢–µ—Å—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è

#### –®–∞–≥ 1.4: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ `PostgresGraphRepository.integration.test.ts`
- **–ü—Ä–æ–±–ª–µ–º–∞:** –°–≤–æ–π—Å—Ç–≤–æ `distance` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `GraphNeighbor`
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É `GraphNeighbor` –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –¢–µ—Å—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç

#### –®–∞–≥ 1.5: –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å CI
- **–ö–æ–º–∞–Ω–¥—ã:**
  - `npm test` - –≤—Å–µ unit —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏
  - `npm run test:integration` - –≤—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏
  - `npm run test:all` - –≤—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ CI:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ GitHub Actions workflow –ø—Ä–æ—Ö–æ–¥–∏—Ç

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ CI pipeline –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ ~5-10%

**–†–∏—Å–∫–∏:**
- –í–æ–∑–º–æ–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –ø–æ–¥ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

---

### –ó–∞–¥–∞—á–∞ 2: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö API

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–ù–∞—á–∞–ª–æ:** 2024-12-19  
**–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ:** 2024-12-19

**–¶–µ–ª—å:** –ü–æ 1-2 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è –Ω–∞ –∫–∞–∂–¥—ã–π –∫–ª—é—á–µ–≤–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç

**–ö–ª—é—á–µ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
1. `/api/v1/routes/search` - –ø–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤
2. `/api/v1/routes/risk/assess` - –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞
3. `/api/v1/cities` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤
4. `/health`, `/health/live`, `/health/ready` - health checks

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏:**

#### ‚úÖ –®–∞–≥ 2.1: –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- **–§–∞–π–ª:** `backend/src/__tests__/integration/api/api-test-helpers.ts`
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:** –†–µ–∞–ª—å–Ω–æ–µ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–ª–Ω—ã–º middleware stack
- **Helper:** `createTestApp()`, `createTestAgent()`, `cleanupTestApp()` –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

#### ‚úÖ –®–∞–≥ 2.2: –¢–µ—Å—Ç—ã –¥–ª—è `/api/v1/cities`
- **–§–∞–π–ª:** `backend/src/__tests__/integration/api/cities.api.test.ts`
- **–°—Ü–µ–Ω–∞—Ä–∏–π 1:** –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (200) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 2:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (page, limit) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 3:** –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π: page=-1, limit=0) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 4:** –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ (limit=200) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 5:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°—Ç–∞—Ç—É—Å 200, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞, –ø–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

#### ‚úÖ –®–∞–≥ 2.3: –¢–µ—Å—Ç—ã –¥–ª—è `/api/v1/routes/search`
- **–§–∞–π–ª:** `backend/src/__tests__/integration/api/routes.api.test.ts`
- **–°—Ü–µ–Ω–∞—Ä–∏–π 1:** –£—Å–ø–µ—à–Ω—ã–π –ø–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –≥–æ—Ä–æ–¥–∞–º–∏ (200 –∏–ª–∏ 404) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 2:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ "from" (400) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 3:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ "to" (400) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 4:** –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã (400) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 5:** –ù–µ–≤–∞–ª–∏–¥–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ) (400) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 6:** –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ (400) ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°—Ç–∞—Ç—É—Å 200/400/404, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞, –≥—Ä–∞—Ñ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

#### ‚úÖ –®–∞–≥ 2.4: –¢–µ—Å—Ç—ã –¥–ª—è `/api/v1/routes/risk/assess`
- **–§–∞–π–ª:** `backend/src/__tests__/integration/api/risk.api.test.ts`
- **–°—Ü–µ–Ω–∞—Ä–∏–π 1:** –£—Å–ø–µ—à–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ (—Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º) (200) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 2:** –£—Å–ø–µ—à–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ (–ø—Ä—è–º–æ–π —Ñ–æ—Ä–º–∞—Ç –±–µ–∑ –≤–ª–æ–∂–µ–Ω–∏—è) (200) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 3:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ routeId (400) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 4:** –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ segments (400) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 5:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ segmentId –≤ —Å–µ–≥–º–µ–Ω—Ç–µ (400) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 6:** –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ (400) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 7:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ (400) ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°—Ç–∞—Ç—É—Å 200/400, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞

#### ‚úÖ –®–∞–≥ 2.5: –¢–µ—Å—Ç—ã –¥–ª—è health checks
- **–§–∞–π–ª:** `backend/src/__tests__/integration/api/health.api.test.ts`
- **–°—Ü–µ–Ω–∞—Ä–∏–π 1:** `/health` - –æ–±—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è (200) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 2:** `/health/live` - liveness probe (–≤—Å–µ–≥–¥–∞ 200) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 3:** `/health/ready` - readiness probe (200) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 4:** `/api/v1/health` - —á–µ—Ä–µ–∑ API route (200) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 5:** `/api/v1/health/live` - —á–µ—Ä–µ–∑ API route (200) ‚úÖ
- **–°—Ü–µ–Ω–∞—Ä–∏–π 6:** `/api/v1/health/ready` - —á–µ—Ä–µ–∑ API route (200) ‚úÖ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞

**–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ **27 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤** –¥–ª—è API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö API endpoints:
  - Cities API: 5 —Ç–µ—Å—Ç–æ–≤ (–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ)
  - Routes Search API: 6 —Ç–µ—Å—Ç–æ–≤ (–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ)
  - Risk Assessment API: 7 —Ç–µ—Å—Ç–æ–≤ (–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ)
  - Health Checks API: 6 —Ç–µ—Å—Ç–æ–≤ (–≤—Å–µ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- ‚úÖ –¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–∞–ª—å–Ω–æ–µ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–ª–Ω—ã–º middleware stack
- ‚úÖ –¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–∞–ª—å–Ω—É—é –ë–î –∏ Redis (—á–µ—Ä–µ–∑ test setup)
- ‚úÖ –¢–µ—Å—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–ø—É—Å–∫—É –≤ CI —á–µ—Ä–µ–∑ `npm run test:integration`

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `supertest` –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –¢–µ—Å—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã: –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —á–∏—Å—Ç—É—é –ë–î –∏ Redis
- –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `test-data.ts` helper
- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã
- –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é —á–µ—Ä–µ–∑ Zod —Å—Ö–µ–º—ã

**–†–∏—Å–∫–∏ (—É—Å—Ç—Ä–∞–Ω–µ–Ω—ã):**
- ‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ë–î, Redis) –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —á–µ—Ä–µ–∑ test setup
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

---

### –ó–∞–¥–∞—á–∞ 3: –ü—Ä–æ–≥–æ–Ω –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –Ω–∞ staging-–ø–æ–¥–æ–±–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, –ø–ª–∞–Ω —Å–æ–∑–¥–∞–Ω)  
**–ù–∞—á–∞–ª–æ:** 2024-12-19  
**–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ:** 2024-12-19

**–¶–µ–ª—å:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏:**

#### ‚úÖ –®–∞–≥ 3.1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–æ staging-–ø–æ–¥–æ–±–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:** Docker Compose —Å –ø–æ–ª–Ω—ã–º —Å—Ç–µ–∫–æ–º —Å–µ—Ä–≤–∏—Å–æ–≤
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã:**
  - PostgreSQL (—Ç–µ—Å—Ç–æ–≤–∞—è –ë–î)
  - Redis (—Ç–µ—Å—Ç–æ–≤—ã–π –∏–Ω—Å—Ç–∞–Ω—Å)
  - Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5000
  - –î–∞–Ω–Ω—ã–µ –≤ –ë–î (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- **–ü–ª–∞–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏:** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã, health checks –ø—Ä–æ—Ö–æ–¥—è—Ç

#### ‚úÖ –®–∞–≥ 3.2: –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–û–±–Ω–æ–≤–ª—ë–Ω `artillery.yml`:**
  - –î–æ–±–∞–≤–ª–µ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `date` –≤ –∑–∞–ø—Ä–æ—Å—ã route search –∏ route build
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–∂–∏–¥–∞–µ–º—ã–µ —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã (–¥–æ–±–∞–≤–ª–µ–Ω—ã 400, 404)
- **–û–±–Ω–æ–≤–ª—ë–Ω `processor.js`:**
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getRandomDate()` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–∞—Ç
  - –û–±–Ω–æ–≤–ª—ë–Ω `beforeRequest` hook –¥–ª—è –∑–∞–º–µ–Ω—ã –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞ `{{ $randomDate }}`
- **–û–±–Ω–æ–≤–ª—ë–Ω `k6-script.js`:**
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getRandomDate()` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–∞—Ç
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `testRouteSearch()` –∏ `testRouteBuild()` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `date`
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–∂–∏–¥–∞–µ–º—ã–µ —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã

#### ‚úÖ –®–∞–≥ 3.3: –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ –∑–∞–ø—É—Å–∫–∞
- **–°–æ–∑–¥–∞–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≤ `load-test/README.md`:**
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ staging-–ø–æ–¥–æ–±–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É Artillery –∏ k6 —Ç–µ—Å—Ç–æ–≤
  - –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–æ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∞
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∞–Ω–∞–ª–∏–∑—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–°–æ–∑–¥–∞–Ω —à–∞–±–ª–æ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ `load-test/RESULTS.md`:**
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫
  - –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å —Ü–µ–ª–µ–≤—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏
  - –†–∞–∑–¥–µ–ª—ã –¥–ª—è —É–∑–∫–∏—Ö –º–µ—Å—Ç –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

#### ‚úÖ –®–∞–≥ 3.4: –ó–∞–ø—É—Å–∫ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
- **–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
  1. ‚úÖ –ó–∞–ø—É—â–µ–Ω–æ Docker Compose –æ–∫—Ä—É–∂–µ–Ω–∏–µ: `docker compose up -d postgres redis minio backend`
  2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (health checks –ø—Ä–æ—Ö–æ–¥—è—Ç)
  3. ‚úÖ –ó–∞–ø—É—â–µ–Ω Artillery —Ç–µ—Å—Ç: `npx artillery run --output report.json artillery.yml`
  4. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω —á–µ—Ä–µ–∑ `/api/v1/metrics` –∏ –ª–æ–≥–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ `backend/load-test/RESULTS.md`

#### ‚úÖ –®–∞–≥ 3.5: –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
- **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:**
  - Response Time: p50 = 4ms, p95 = 7ms, p99 = 16.9ms (–ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ)
  - Throughput: —Å—Ä–µ–¥–Ω–∏–π 13 req/s, –ø–∏–∫–æ–≤—ã–π 50 req/s
  - Error Rate: 73.4% (–≤—Å–µ –∏–∑-–∑–∞ rate limiting, –Ω–µ –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
  - CPU/Memory usage: CPU < 1%, –ø–∞–º—è—Ç—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã
  - DB connection pool: –Ω–µ –ø—Ä–µ–≤—ã—à–∞–ª –ª–∏–º–∏—Ç—ã
  - Redis: —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ `backend/load-test/RESULTS.md`

#### ‚úÖ –®–∞–≥ 3.6: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ü–µ–ª–µ–≤—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
- **–¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
  - p95 Response Time < 2s ‚Üí **–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ: 7ms** ‚úÖ
  - Error Rate < 1% ‚Üí **73.4% (rate limiting)** ‚ö†Ô∏è
  - Throughput > 50 req/s ‚Üí **–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ: 50 req/s (–ø–∏–∫)** ‚úÖ
- **–í—ã—è–≤–ª–µ–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç:** 
  - Rate limiting —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ (–æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –∑–∞—â–∏—Ç—ã)
  - –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –≤ Artillery –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç—Å—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
  - –î–µ—Ç–∞–ª–∏ –≤ `backend/load-test/RESULTS.md`

**–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ –ü–ª–∞–Ω –∑–∞–ø—É—Å–∫–∞ —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ `load-test/README.md`
- ‚úÖ –®–∞–±–ª–æ–Ω –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω –≤ `load-test/RESULTS.md`
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–æ staging-–ø–æ–¥–æ–±–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (Docker Compose)
- ‚úÖ **–†–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω** (2024-12-19) - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ `load-test/RESULTS.md`

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `date`)
- –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞–≥—Ä—É–∑–∫–∏
- –ü—Ä–æ—Ñ–∏–ª—å –Ω–∞–≥—Ä—É–∑–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç: warm-up, ramp-up, sustained load, spike test, cool down
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤—É—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: Artillery –∏ k6

**–†–∏—Å–∫–∏:**
- –†–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω —Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Docker Compose –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã)
- –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å staging –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤

---

### –ó–∞–¥–∞—á–∞ 4: –§–∏–Ω–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä –∫–æ–¥–∞ –∏ —Å–≤–µ—Ä–∫–∞ —Å —á–µ–∫–ª–∏—Å—Ç–∞–º–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ  
**–ù–∞—á–∞–ª–æ:** 2024-12-19  
**–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ:** 2024-12-19

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∫–æ–¥–∞, —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏:**

#### ‚úÖ –®–∞–≥ 4.1: –°–≤–µ—Ä–∫–∞ —Å `PRODUCTION_EXECUTION_LOG.md`
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –í—Å–µ –∑–∞–¥–∞—á–∏ –∏–∑ —ç—Ç–∞–ø–æ–≤ 0-4 –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ–∑—é–º–µ –ø–æ —Ç–µ–∫—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é

#### ‚úÖ –®–∞–≥ 4.2: –°–≤–µ—Ä–∫–∞ —Å `DEPLOYMENT_CHECKLIST.md`
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –í—Å–µ –ø—É–Ω–∫—Ç—ã —á–µ–∫–ª–∏—Å—Ç–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** –û—Ç–º–µ—á–µ–Ω—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã (–∫–æ–¥, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- **–û—Ç–º–µ—á–µ–Ω–æ:** –ü—É–Ω–∫—Ç—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

#### ‚úÖ –®–∞–≥ 4.3: –°–≤–µ—Ä–∫–∞ —Å `SECURITY_AUDIT.md`
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** `npm audit` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 0 —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2024-12-19)
- **–°—Ç–∞—Ç—É—Å:** –î–æ–∫—É–º–µ–Ω—Ç –∞–∫—Ç—É–∞–ª–µ–Ω

#### ‚úÖ –®–∞–≥ 4.4: –°–≤–µ—Ä–∫–∞ —Å `REMAINING_TASKS.md`
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 
  - –ó–∞–¥–∞—á–∞ 1 (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤) - –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è
  - –ó–∞–¥–∞—á–∞ 2 (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã) - –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è
  - –ó–∞–¥–∞—á–∞ 5 (–Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ) - —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ "–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞" (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ) –∏ "—Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω" (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ)
  - –ó–∞–¥–∞—á–∞ 6 (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π code review) - –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è
  - –ó–∞–¥–∞—á–∞ 7 (—á–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è) - –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è

#### ‚úÖ –®–∞–≥ 4.5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** 
  - –°—Ç–∞—Ç—É—Å –ó–∞–¥–∞—á–∏ 3 –≤ TESTING_IMPROVEMENT_PLAN.md (—Ä–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ "–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞" –∏ "—Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω")
  - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã —Å—Ç–∞—Ç—É—Å—ã –º–µ–∂–¥—É REMAINING_TASKS.md, PRODUCTION_EXECUTION_LOG.md –∏ TESTING_IMPROVEMENT_PLAN.md

#### ‚úÖ –®–∞–≥ 4.6: Code review –ø–æ –∑–æ–Ω–∞–º —Ä–∏—Å–∫–∞
- **Workers:**
  - –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã ODataSyncWorker, GraphBuilderWorker, VirtualEntitiesGeneratorWorker
  - Error handling –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è try-catch —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  - –ù–∞–π–¥–µ–Ω—ã TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ): –ø–µ—Ä–µ–Ω–æ—Å YAKUTIA_CITIES –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª, –∑–∞–º–µ–Ω–∞ MinIO mock –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
- **Repositories:**
  - –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã PostgresGraphRepository, PostgresStopRepository, PostgresRouteRepository
  - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–∑–∞—â–∏—Ç–∞ –æ—Ç SQL injection)
  - Connection pooling –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **Infrastructure:**
  - Error handler middleware –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
  - Security headers –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
  - Rate limiting –Ω–∞—Å—Ç—Ä–æ–µ–Ω
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ

**–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–¥—É
- ‚úÖ –í—Å–µ —á–µ–∫–ª–∏—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ Code review –≤—ã–ø–æ–ª–Ω–µ–Ω, –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ
- ‚úÖ –ù–∞–π–¥–µ–Ω—ã –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –¥–µ–ø–ª–æ–π)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π
- –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–∞–∂–∞—é—Ç —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É, –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ

**–†–∏—Å–∫–∏ (—É—Å—Ç—Ä–∞–Ω–µ–Ω—ã):**
- ‚úÖ –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã
- ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

---

### ‚úÖ –ó–∞–¥–∞—á–∞ 5: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Å–∫–≤–æ–∑–Ω—ã—Ö (E2E) —Ç–µ—Å—Ç–æ–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ  
**–î–∞—Ç–∞:** 2024-12-19

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞

**–ß—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**

#### ‚úÖ –®–∞–≥ 5.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ E2E —Ç–µ—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π Jest –∫–æ–Ω—Ñ–∏–≥ `jest.e2e.config.js`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `src/__tests__/e2e/`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (`api-test-helpers.ts`)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞: –†–µ–∞–ª—å–Ω–æ–µ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ä–µ–∞–ª—å–Ω—ã–µ –ë–î –∏ Redis

#### ‚úÖ –®–∞–≥ 5.2: E2E —Ç–µ—Å—Ç - —É—Å–ø–µ—à–Ω—ã–π –ø–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π —Å–∫–≤–æ–∑–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
  1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (stops, graph)
  2. –ó–∞–ø—Ä–æ—Å –Ω–∞ `/api/v1/routes/search?from=–ú–æ—Å–∫–≤–∞&to=–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥&date=YYYY-MM-DD`
  3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
  5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞ (routes, segments, executionTimeMs)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: –°—Ç–∞—Ç—É—Å 200, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞

#### ‚úÖ –®–∞–≥ 5.3: E2E —Ç–µ—Å—Ç - –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã 3 —Å—Ü–µ–Ω–∞—Ä–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
  1. –ó–∞–ø—Ä–æ—Å –±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `from` ‚Üí 400
  2. –ó–∞–ø—Ä–æ—Å —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –¥–∞—Ç—ã ‚Üí 400
  3. –ó–∞–ø—Ä–æ—Å –±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `date` ‚Üí 400
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: –°—Ç–∞—Ç—É—Å 400, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–∫–∏ (Zod validation)

#### ‚úÖ –®–∞–≥ 5.4: E2E —Ç–µ—Å—Ç - health checks
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–∫–≤–æ–∑–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö health endpoints:
  1. `/health/live` ‚Üí 200, —Å—Ç–∞—Ç—É—Å "alive"
  2. `/health/ready` ‚Üí 200, —Å—Ç–∞—Ç—É—Å "ready", –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ë–î, Redis, graph)
  3. `/health` ‚Üí 200, –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã
  4. –ü—Ä–æ–≤–µ—Ä–∫–∞ API-–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (`/api/v1/health/*`)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤

#### ‚úÖ –®–∞–≥ 5.5: E2E —Ç–µ—Å—Ç - –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–∫–≤–æ–∑–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
  1. –ü–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–∞ —á–µ—Ä–µ–∑ `/api/v1/routes/search`
  2. –ï—Å–ª–∏ –º–∞—Ä—à—Ä—É—Ç –Ω–∞–π–¥–µ–Ω ‚Üí –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ —á–µ—Ä–µ–∑ `/api/v1/routes/risk/assess`
  3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞ (riskScore, factors, recommendations)
  4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ risk assessment

#### ‚úÖ –®–∞–≥ 5.6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Jest –∏ npm scripts
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω npm script `test:e2e` –≤ `package.json`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `test:all` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è E2E —Ç–µ—Å—Ç–æ–≤
- ‚úÖ E2E —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç unit –∏ integration —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ CI

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ E2E —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
1. ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –ø–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–∞ (–ø–æ–ª–Ω—ã–π workflow)
2. ‚úÖ –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –º–∞—Ä—à—Ä—É—Ç–∞ (3 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
3. ‚úÖ Health checks workflow (–≤—Å–µ endpoints)
4. ‚úÖ –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ (—Å–≤—è–∑–∞–Ω–Ω—ã–π workflow)

**–ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞:**
- `npm run test:e2e` - –∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ E2E —Ç–µ—Å—Ç–æ–≤
- `npm run test:all` - –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ (unit + integration + e2e)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- E2E —Ç–µ—Å—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–π —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î (PostgreSQL) –∏ Redis
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ –∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —á—Ç–æ –∏ –¥–ª—è integration —Ç–µ—Å—Ç–æ–≤ (`TEST_DB_*`, `TEST_REDIS_*`)

**–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 4 E2E —Å—Ü–µ–Ω–∞—Ä–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚úÖ –¢–µ—Å—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–ø—É—Å–∫—É (—Ç—Ä–µ–±—É—é—Ç –ë–î –∏ Redis)
- ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏

**–†–∏—Å–∫–∏ (—É—Å—Ç—Ä–∞–Ω–µ–Ω—ã):**
- ‚úÖ E2E —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç—É –∂–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É, —á—Ç–æ –∏ integration —Ç–µ—Å—Ç—ã
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

---

### –ó–∞–¥–∞—á–∞ 6: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –æ—Å–Ω–æ–≤–Ω—ã—Ö major-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–¶–µ–ª—å:** –í—ã—Å—Ç—Ä–æ–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
1. `dotenv`: 16.6.1 ‚Üí 17.2.3
2. `uuid`: 9.0.1 ‚Üí 13.0.0
3. `redis`: 4.7.1 ‚Üí 5.10.0
4. `express`: 4.21.2 ‚Üí 5.1.0
5. `bcrypt`: 5.1.1 ‚Üí 6.0.0
6. `eslint`: 8.57.1 ‚Üí 9.39.1
7. `@typescript-eslint/*`: 6.21.0 ‚Üí 8.47.0
8. `jest`: 29.7.0 ‚Üí 30.x

**–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:**

#### –®–∞–≥ 6.1: –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–§–∞–π–ª:** `backend/DEPENDENCY_UPDATE_PLAN.md`
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
  - –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  - –ü–æ—Ä—è–¥–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ø–æ –æ–¥–Ω–æ–º—É –ø–∞–∫–µ—Ç—É)
  - –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏
  - –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### –®–∞–≥ 6.2: –ò–∑—É—á–∏—Ç—å breaking changes
- **–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞:**
  - –ü—Ä–æ—á–∏—Ç–∞—Ç—å changelog
  - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
  - –°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ

#### –®–∞–≥ 6.3: –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **–ü–æ–¥—Ö–æ–¥:** –û—Ç–¥–µ–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ major –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–ü—Ä–æ—Ü–µ—Å—Å:** –û–±–Ω–æ–≤–∏—Ç—å ‚Üí –ò—Å–ø—Ä–∞–≤–∏—Ç—å ‚Üí –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–ª–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω

**–†–∏—Å–∫–∏:**
- Breaking changes –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω—ã –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–∞–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á 1-5, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –ø—Ä–æ–¥–∞–∫—à–µ–Ω.

---

### –ó–∞–¥–∞—á–∞ 7: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

**–¶–µ–ª—å:** –£–ª—É—á—à–∏—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω—ã–µ –±–æ—Ç—Ç–ª–Ω–µ–∫–∏

**–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:**

#### –®–∞–≥ 7.1: –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ –ó–∞–¥–∞—á–∏ 3
- **–ê–Ω–∞–ª–∏–∑:**
  - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
  - –í—ã—è–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—É–ª–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
  - –ù–∞–π—Ç–∏ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
  - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å Redis

#### –®–∞–≥ 7.2: –í—ã–±–æ—Ä 1-2 —É–∑–∫–∏—Ö –º–µ—Å—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–ö—Ä–∏—Ç–µ—Ä–∏–∏:**
  - –ù–∞–∏–±–æ–ª—å—à–µ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - –†–µ–∞–ª–∏–∑—É–µ–º–æ—Å—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–π

#### –®–∞–≥ 7.3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
- **–í–æ–∑–º–æ–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
  - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –ë–î
  - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
  - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

#### –®–∞–≥ 7.4: –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
  - –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
  - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–∏–ª–∞—Å—å
  - –ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

#### –®–∞–≥ 7.5: –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–¶–µ–ª—å:** –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ:** –° —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∏–∑ –ó–∞–¥–∞—á–∏ 3

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 1-2 —É–∑–∫–∏—Ö –º–µ—Å—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–∏–ª–∞—Å—å (–∏–∑–º–µ—Ä–∏–º–æ)
- ‚úÖ –†–µ–≥—Ä–µ—Å—Å–∏–π –Ω–µ—Ç

**–†–∏—Å–∫–∏:**
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–æ–≥—É—Ç –Ω–µ –¥–∞—Ç—å –æ–∂–∏–¥–∞–µ–º–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
- –ú–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∞ –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ó–∞–¥–∞—á–∏ 3, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## üìÖ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á

### –§–∞–∑–∞ 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ (–ó–∞–¥–∞—á–∏ 1, 2, 5)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö—Ä–∏—Ç–∏—á–Ω—ã–π  
**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è

1. **–ó–∞–¥–∞—á–∞ 1:** –ü–æ—á–∏–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã (4-6 —á–∞—Å–æ–≤)
2. **–ó–∞–¥–∞—á–∞ 2:** –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è API (4-6 —á–∞—Å–æ–≤)
3. **–ó–∞–¥–∞—á–∞ 5:** –î–æ–±–∞–≤–∏—Ç—å E2E —Ç–µ—Å—Ç—ã (3-4 —á–∞—Å–∞)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, CI –∑–µ–ª–µ–Ω—ã–π

### –§–∞–∑–∞ 2: –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–ó–∞–¥–∞—á–∏ 3, 7)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å

4. **–ó–∞–¥–∞—á–∞ 3:** –ü—Ä–æ–≥–æ–Ω –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ (2-4 —á–∞—Å–∞)
5. **–ó–∞–¥–∞—á–∞ 7:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç (4-6 —á–∞—Å–æ–≤, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π, —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

### –§–∞–∑–∞ 3: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–ó–∞–¥–∞—á–∏ 4, 6)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è:** 0.5 –¥–Ω—è

6. **–ó–∞–¥–∞—á–∞ 4:** –§–∏–Ω–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä –∏ —Å–≤–µ—Ä–∫–∞ (1-2 —á–∞—Å–∞)
7. **–ó–∞–¥–∞—á–∞ 6:** –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (1-2 —á–∞—Å–∞)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞, –ø–ª–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥–æ—Ç–æ–≤

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

### –ó–∞–¥–∞—á–∞ 1:
- ‚úÖ `npm test` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ `npm run test:integration` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ CI pipeline –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ > 5%

### –ó–∞–¥–∞—á–∞ 2:
- ‚úÖ 8-10 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è API
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### –ó–∞–¥–∞—á–∞ 3:
- ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
- ‚è≥ –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥–æ–Ω –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –Ω–∞ staging (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –£–∑–∫–∏–µ –º–µ—Å—Ç–∞ –≤—ã—è–≤–ª–µ–Ω—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –ó–∞–¥–∞—á–∞ 4:
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞
- ‚úÖ –ß–µ–∫–ª–∏—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

### –ó–∞–¥–∞—á–∞ 5:
- ‚úÖ 3-4 E2E —Ç–µ—Å—Ç–∞
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –ó–∞–¥–∞—á–∞ 6:
- ‚úÖ –ü–ª–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–æ–∑–¥–∞–Ω

### –ó–∞–¥–∞—á–∞ 7:
- ‚úÖ 1-2 —É–∑–∫–∏—Ö –º–µ—Å—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–∏–ª–∞—Å—å

---

## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–∞—á–∞—Ç—å —Å –ó–∞–¥–∞—á–∏ 1, –®–∞–≥ 1.1 - —Å–æ–∑–¥–∞–Ω–∏–µ `test-data.ts` helper.

