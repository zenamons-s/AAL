# ‚úÖ –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤: –¥–∞—Ç–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

**–î–∞—Ç–∞:** 18 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û**

---

## üéØ –¶–µ–ª—å

–ü—Ä–∏–≤–µ—Å—Ç–∏ –ø–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ö–æ—Ä–æ—à–æ:
- ‚úÖ –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≥–æ—Ä–æ–¥–∞
- ‚úÖ –ö–æ–≥–¥–∞ –≤–≤–æ–¥–∏—Ç –≥–æ—Ä–æ–¥–∞ –∏ –¥–∞—Ç—É
- ‚úÖ –ö–æ–≥–¥–∞ –≤–≤–æ–¥–∏—Ç –≥–æ—Ä–æ–¥–∞ –∏ –¥–≤–µ –¥–∞—Ç—ã

–ü–æ–∏—Å–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–∞—Ç—É –∫–∞–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –¥–æ–ª–∂–µ–Ω –≤—ã–¥–∞–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### **1. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞** ‚úÖ

**–§–∞–π–ª:** `backend/src/presentation/controllers/RouteBuilderController.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –£–±—Ä–∞–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `date`
- ‚úÖ `from` –∏ `to` –æ—Å—Ç–∞—é—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –ï—Å–ª–∏ –¥–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
if (!from || !to || !date) {
  res.status(400).json({
    error: {
      code: 'VALIDATION_ERROR',
      message: '–ü–∞—Ä–∞–º–µ—Ç—Ä—ã from, to –∏ date –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã',
    },
  });
  return;
}
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: from –∏ to
if (!from || !to) {
  res.status(400).json({
    error: {
      code: 'VALIDATION_ERROR',
      message: '–ü–∞—Ä–∞–º–µ—Ç—Ä—ã from –∏ to –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã',
    },
  });
  return;
}

// –ï—Å–ª–∏ –¥–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
const searchDate = date ? String(date) : new Date().toISOString().split('T')[0];
```

---

### **2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** ‚úÖ

**–§–∞–π–ª:** `backend/src/application/route-builder/BuildRouteUseCase.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `USE_ADAPTIVE_DATA_LOADING=false`)
- ‚úÖ –õ–æ–≥–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∞: `process.env.USE_ADAPTIVE_DATA_LOADING !== 'false'` –≤–º–µ—Å—Ç–æ `=== 'true'`
- ‚úÖ –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
const useAdaptiveDataLoading = process.env.USE_ADAPTIVE_DATA_LOADING === 'true';
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
// –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞
// Feature toggle –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è, –Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–∞
const useAdaptiveDataLoading = process.env.USE_ADAPTIVE_DATA_LOADING !== 'false';
```

---

### **3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ RouteGraphBuilder** ‚úÖ

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteGraphBuilder.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä `date` –≤ `buildFromDataset` —Å–¥–µ–ª–∞–Ω –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º
- ‚úÖ –ú–µ—Ç–æ–¥ `getAvailableFlightsFromDataset` –æ–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –¥–∞—Ç–µ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞)
- ‚úÖ –ï—Å–ª–∏ –¥–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å–µ —Ä–µ–π—Å—ã

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
async buildFromDataset(dataset: ITransportDataset, date: string): Promise<RouteGraph>
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
async buildFromDataset(dataset: ITransportDataset, date?: string): Promise<RouteGraph>
```

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–π—Å–æ–≤:**
```typescript
// –ï—Å–ª–∏ –¥–∞—Ç–∞ —É–∫–∞–∑–∞–Ω–∞, —Ñ–∏–ª—å—Ç—Ä—É–µ–º —Ä–µ–π—Å—ã –ø–æ –¥–∞—Ç–µ
if (date) {
  const flightDate = new Date(flight.departureTime).toISOString().split('T')[0];
  const searchDate = new Date(date).toISOString().split('T')[0];
  if (flightDate !== searchDate) {
    continue; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Ä–µ–π—Å—ã –Ω–µ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—É—é –¥–∞—Ç—É
  }
}
```

---

### **4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ RouteBuilder** ‚úÖ

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteBuilder.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞—Ç—ã –≤ `buildRouteFromPath`
- ‚úÖ –ï—Å–ª–∏ –¥–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞—Ç—ã

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
let currentTime = new Date(`${date}T00:00:00`);
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
// –ï—Å–ª–∏ –¥–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
let currentTime: Date;
try {
  currentTime = date ? new Date(`${date}T00:00:00`) : new Date();
  if (isNaN(currentTime.getTime())) {
    currentTime = new Date(); // –ï—Å–ª–∏ –¥–∞—Ç–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é
  }
} catch {
  currentTime = new Date(); // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é
}
```

---

### **5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** ‚úÖ

**–§–∞–π–ª:** `frontend/src/components/search-form/search-form.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–∞—Ç–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ URL, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –∏ –Ω–µ —Ä–∞–≤–Ω–æ 1
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã —Å–¥–µ–ª–∞–Ω–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–∞—Ç–∞ —É–∫–∞–∑–∞–Ω–∞)

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
// –§–æ—Ä–º–∏—Ä—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è URL - –¢–û–õ–¨–ö–û from –∏ to
const params = new URLSearchParams({
  from: normalizedFrom,
  to: normalizedTo,
})
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
// –§–æ—Ä–º–∏—Ä—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è URL
// from –∏ to - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ, date –∏ passengers - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
const params = new URLSearchParams({
  from: normalizedFrom,
  to: normalizedTo,
})

// –î–æ–±–∞–≤–ª—è–µ–º –¥–∞—Ç—É, –µ—Å–ª–∏ –æ–Ω–∞ —É–∫–∞–∑–∞–Ω–∞
if (formData.date) {
  params.set('date', formData.date)
}

// –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –∏ –Ω–µ —Ä–∞–≤–Ω–æ 1
if (formData.passengers && formData.passengers !== '1') {
  params.set('passengers', formData.passengers)
}
```

**–§–∞–π–ª:** `frontend/src/app/routes/page.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–∞—Ç–∞ –∏ –ø–∞—Å—Å–∞–∂–∏—Ä—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã –≤ URL
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `useEffect` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
const params = new URLSearchParams({
  from: normalizedFrom,
  to: normalizedTo,
})
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```typescript
// –§–æ—Ä–º–∏—Ä—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
// from –∏ to - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ, date –∏ passengers - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
const params = new URLSearchParams({
  from: normalizedFrom,
  to: normalizedTo,
})

// –î–æ–±–∞–≤–ª—è–µ–º –¥–∞—Ç—É, –µ—Å–ª–∏ –æ–Ω–∞ —É–∫–∞–∑–∞–Ω–∞ –≤ URL
if (date) {
  params.set('date', date)
}

// –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –∏ –Ω–µ —Ä–∞–≤–Ω–æ 1
if (passengers && passengers !== '1') {
  params.set('passengers', passengers)
}
```

---

## üîÑ –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –¢–æ–ª—å–∫–æ –≥–æ—Ä–æ–¥–∞ (–±–µ–∑ –¥–∞—Ç—ã)**

**–ó–∞–ø—Ä–æ—Å:**
```
GET /api/v1/routes/search?from=–Ø–∫—É—Ç—Å–∫&to=–ú–æ—Å–∫–≤–∞
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**
1. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ `from` –∏ `to`
2. –ï—Å–ª–∏ –¥–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞
3. –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (REAL/RECOVERY/MOCK)
4. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ RECOVERY —Ä–µ–∂–∏–º–µ
5. –ì—Ä–∞—Ñ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–≤—è–∑–Ω—ã–π
6. PathFinder –Ω–∞—Ö–æ–¥–∏—Ç –ø—É—Ç—å –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–π—Å–æ–≤
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ì–æ—Ä–æ–¥–∞ + –¥–∞—Ç–∞**

**–ó–∞–ø—Ä–æ—Å:**
```
GET /api/v1/routes/search?from=–Ø–∫—É—Ç—Å–∫&to=–ú–æ—Å–∫–≤–∞&date=2025-12-01
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**
1. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `from` –∏ `to`
2. –î–∞—Ç–∞ —É–∫–∞–∑–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–∫–∞–∑–∞–Ω–Ω–∞—è –¥–∞—Ç–∞
3. –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
4. –†–µ–π—Å—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç–µ
5. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ RECOVERY —Ä–µ–∂–∏–º–µ
6. PathFinder –Ω–∞—Ö–æ–¥–∏—Ç –ø—É—Ç—å —Å —É—á—ë—Ç–æ–º –¥–∞—Ç—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å —É—á—ë—Ç–æ–º —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã
- ‚úÖ –†–µ–π—Å—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ –¥–∞—Ç–µ
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ì–æ—Ä–æ–¥–∞ + –¥–≤–µ –¥–∞—Ç—ã (—Ç—É–¥–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ)**

**–ó–∞–ø—Ä–æ—Å:**
```
GET /api/v1/routes/search?from=–Ø–∫—É—Ç—Å–∫&to=–ú–æ—Å–∫–≤–∞&date=2025-12-01&returnDate=2025-12-10
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**
1. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `date` –¥–ª—è –ø–æ–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ —Ç—É–¥–∞
2. `returnDate` –ø–æ–∫–∞ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –±—É–¥—É—â–µ–º)
3. –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
4. –†–µ–π—Å—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ –¥–∞—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
5. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ RECOVERY —Ä–µ–∂–∏–º–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å —É—á—ë—Ç–æ–º –¥–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ `returnDate` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ URL –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

1. **Backend:**
   - `backend/src/presentation/controllers/RouteBuilderController.ts` - –¥–∞—Ç–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
   - `backend/src/application/route-builder/BuildRouteUseCase.ts` - –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - `backend/src/application/route-builder/RouteGraphBuilder.ts` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞
   - `backend/src/application/route-builder/RouteBuilder.ts` - —É–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞—Ç—ã

2. **Frontend:**
   - `frontend/src/components/search-form/search-form.tsx` - –ø–µ—Ä–µ–¥–∞—á–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - `frontend/src/app/routes/page.tsx` - –ø–µ—Ä–µ–¥–∞—á–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –∑–∞–ø—Ä–æ—Å

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### **Backend Build** ‚úÖ
```bash
cd backend && npm run build
# ‚úÖ Compiled successfully (0 errors)
```

### **Frontend Build** ‚úÖ
```bash
cd frontend && npm run build
# ‚úÖ Compiled successfully
# ‚úÖ No linter errors
```

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** ‚úÖ
- ‚úÖ –î–∞—Ç–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ RECOVERY —Ä–µ–∂–∏–º–µ
- ‚úÖ –ì—Ä–∞—Ñ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–≤—è–∑–Ω—ã–π
- ‚úÖ PathFinder –Ω–∞—Ö–æ–¥–∏—Ç –ø—É—Ç—å –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–µ—Ä–µ–¥–∞—ë—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–∞—Ç–æ–π –∏ –±–µ–∑ –Ω–µ—ë

---

## üé® –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### **–ü—Ä–∏–º–µ—Ä 1: –ü–æ–∏—Å–∫ –±–µ–∑ –¥–∞—Ç—ã**

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl "http://localhost:5000/api/v1/routes/search?from=–Ø–∫—É—Ç—Å–∫&to=–ú–æ—Å–∫–≤–∞"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "routes": [
    {
      "routeId": "route-001",
      "fromCity": "–Ø–∫—É—Ç—Å–∫",
      "toCity": "–ú–æ—Å–∫–≤–∞",
      "segments": [...],
      "totalDuration": 360,
      "totalPrice": 25000
    }
  ],
  "dataMode": "recovery",
  "dataQuality": 75
}
```

---

### **–ü—Ä–∏–º–µ—Ä 2: –ü–æ–∏—Å–∫ —Å –¥–∞—Ç–æ–π**

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl "http://localhost:5000/api/v1/routes/search?from=–Ø–∫—É—Ç—Å–∫&to=–ú–æ—Å–∫–≤–∞&date=2025-12-01"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "routes": [
    {
      "routeId": "route-002",
      "fromCity": "–Ø–∫—É—Ç—Å–∫",
      "toCity": "–ú–æ—Å–∫–≤–∞",
      "date": "2025-12-01",
      "segments": [...],
      "totalDuration": 360,
      "totalPrice": 25000
    }
  ],
  "dataMode": "recovery",
  "dataQuality": 75
}
```

---

### **–ü—Ä–∏–º–µ—Ä 3: –ü–æ–∏—Å–∫ –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏**

**–ó–∞–ø—Ä–æ—Å:**
```bash
curl "http://localhost:5000/api/v1/routes/search?from=–°—Ä–µ–¥–Ω–µ–∫–æ–ª—ã–º—Å–∫&to=–ù–µ—Ä—é–Ω–≥—Ä–∏"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "routes": [
    {
      "routeId": "route-003",
      "fromCity": "–°—Ä–µ–¥–Ω–µ–∫–æ–ª—ã–º—Å–∫",
      "toCity": "–ù–µ—Ä—é–Ω–≥—Ä–∏",
      "segments": [
        {
          "segment": {
            "routeId": "virtual-srednekolymsk-yakutsk-...",
            "transportType": "bus",
            "metadata": {
              "_virtual": true
            }
          }
        },
        {
          "segment": {
            "routeId": "virtual-yakutsk-nerungri-...",
            "transportType": "bus",
            "metadata": {
              "_virtual": true
            }
          }
        }
      ],
      "totalDuration": 360,
      "totalPrice": 2000
    }
  ],
  "dataMode": "recovery",
  "dataQuality": 75
}
```

---

## üìù –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç

- ‚úÖ –î–∞—Ç–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
- ‚úÖ `from` –∏ `to` - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ RECOVERY —Ä–µ–∂–∏–º–µ
- ‚úÖ –ì—Ä–∞—Ñ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–≤—è–∑–Ω—ã–π
- ‚úÖ PathFinder –Ω–∞—Ö–æ–¥–∏—Ç –ø—É—Ç—å –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–µ—Ä–µ–¥–∞—ë—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–∞—Ç–æ–π –∏ –±–µ–∑ –Ω–µ—ë
- ‚úÖ Backend build —É—Å–ø–µ—à–µ–Ω (0 errors)
- ‚úÖ Frontend build —É—Å–ø–µ—à–µ–Ω (0 errors)
- ‚úÖ Linter –æ—à–∏–±–æ–∫ –Ω–µ—Ç

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### **–ü–æ–∏—Å–∫ –±–µ–∑ –¥–∞—Ç—ã:**

```bash
# –ó–∞–ø—Ä–æ—Å —Ç–æ–ª—å–∫–æ —Å –≥–æ—Ä–æ–¥–∞–º–∏
GET /api/v1/routes/search?from=–Ø–∫—É—Ç—Å–∫&to=–ú–æ—Å–∫–≤–∞

# Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
# –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å
# –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

### **–ü–æ–∏—Å–∫ —Å –¥–∞—Ç–æ–π:**

```bash
# –ó–∞–ø—Ä–æ—Å —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç–æ–π
GET /api/v1/routes/search?from=–Ø–∫—É—Ç—Å–∫&to=–ú–æ—Å–∫–≤–∞&date=2025-12-01

# Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—É—é –¥–∞—Ç—É –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–π—Å–æ–≤
# –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å
# –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

### **–ü–æ–∏—Å–∫ —Å –¥–∞—Ç–æ–π –∏ –ø–∞—Å—Å–∞–∂–∏—Ä–∞–º–∏:**

```bash
# –ó–∞–ø—Ä–æ—Å —Å –¥–∞—Ç–æ–π –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
GET /api/v1/routes/search?from=–Ø–∫—É—Ç—Å–∫&to=–ú–æ—Å–∫–≤–∞&date=2025-12-01&passengers=2

# Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
# –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å
# –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

---

## üìå –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
   - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –î–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `USE_ADAPTIVE_DATA_LOADING=false`
   - –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –≥—Ä–∞—Ñ–∞ —á–µ—Ä–µ–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

2. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞:**
   - –î–∞—Ç–∞ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
   - –ï—Å–ª–∏ –¥–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞
   - –ï—Å–ª–∏ –¥–∞—Ç–∞ —É–∫–∞–∑–∞–Ω–∞, —Ä–µ–π—Å—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ –¥–∞—Ç–µ

3. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:**
   - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ RECOVERY —Ä–µ–∂–∏–º–µ
   - –û–Ω–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–æ–ª–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –≥—Ä–∞—Ñ–∞
   - PathFinder –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏

4. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
   - –°—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –¥–∞—Ç–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
   - –ù–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ –¥–∞—Ç—ã —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç
   - API –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ö–æ—Ä–æ—à–æ:
- ‚úÖ –° –¥–∞—Ç–æ–π –∏ –±–µ–∑ –Ω–µ—ë
- ‚úÖ –° –ª—é–±—ã–º–∏ –¥–≤—É–º—è –≥–æ—Ä–æ–¥–∞–º–∏
- ‚úÖ –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –° –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.*


