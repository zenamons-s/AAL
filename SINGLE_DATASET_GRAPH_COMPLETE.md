# –û—Ç—á—ë—Ç: –ï–¥–∏–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –∏ –≥—Ä–∞—Ñ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –∫–∞–∂–¥–æ–º –ø–æ–∏—Å–∫–µ –º–∞—Ä—à—Ä—É—Ç–∞ –¥–∞—Ç–∞—Å–µ—Ç –∑–∞–≥—Ä—É–∂–∞–ª—Å—è –∑–∞–Ω–æ–≤–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä, –∏–∑-–∑–∞ —á–µ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏—Å—á–µ–∑–∞–ª–∏, –∏ –≥—Ä–∞—Ñ —Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –ø—É—Å—Ç—ã–º. PathFinder –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–ª –Ω–∞ –ø—É—Å—Ç–æ–º –Ω–∞–±–æ—Ä–µ —Å–≤—è–∑–µ–π –∏ –Ω–µ –º–æ–≥ –Ω–∞–π—Ç–∏ –ø—É—Ç—å –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏.

## –†–µ—à–µ–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –µ–¥–∏–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏ –≥—Ä–∞—Ñ–∞, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. RouteGraphManager (Singleton)

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteGraphManager.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- Singleton –ø–∞—Ç—Ç–µ—Ä–Ω: –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞: `initialize()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ `index.ts`
- –ï–¥–∏–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç: –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
- –ï–¥–∏–Ω—ã–π –≥—Ä–∞—Ñ: —Å—Ç—Ä–æ–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
- –ú–µ—Ç–æ–¥ `updateGraph()`: –æ–±–Ω–æ–≤–ª—è–µ—Ç –≥—Ä–∞—Ñ –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞ –±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
```typescript
static getInstance(): RouteGraphManager // –ü–æ–ª—É—á–∏—Ç—å singleton
async initialize(): Promise<void> // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
async getDataset(): Promise<ITransportDataset> // –ü–æ–ª—É—á–∏—Ç—å –µ–¥–∏–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç
async getGraph(): Promise<RouteGraph> // –ü–æ–ª—É—á–∏—Ç—å –µ–¥–∏–Ω—ã–π –≥—Ä–∞—Ñ
async updateGraph(): Promise<void> // –û–±–Ω–æ–≤–∏—Ç—å –≥—Ä–∞—Ñ –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞
```

**–ì–∞—Ä–∞–Ω—Ç–∏–∏:**
- –î–∞—Ç–∞—Å–µ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –ì—Ä–∞—Ñ —Å—Ç—Ä–æ–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞—Ç–∞—Å–µ—Ç–∞
- –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ—Ç –∂–µ –¥–∞—Ç–∞—Å–µ—Ç –∏ –≥—Ä–∞—Ñ

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞

**–§–∞–π–ª:** `backend/src/index.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `RouteGraphManager` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
- –î–∞—Ç–∞—Å–µ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏ –≥—Ä–∞—Ñ–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–ö–æ–¥:**
```typescript
// –í–ê–ñ–ù–û: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –µ–¥–∏–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –∏ –≥—Ä–∞—Ñ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
console.log('üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –µ–¥–∏–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏ –≥—Ä–∞—Ñ–∞...');
const { RouteGraphManager } = await import('./application/route-builder/RouteGraphManager');
const graphManager = RouteGraphManager.getInstance();
await graphManager.initialize();

const stats = graphManager.getStats();
console.log('‚úÖ –ï–¥–∏–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –∏ –≥—Ä–∞—Ñ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:');
console.log(`   –î–∞—Ç–∞—Å–µ—Ç: –æ—Å—Ç–∞–Ω–æ–≤–æ–∫=${stats.datasetStats?.stops || 0}, –º–∞—Ä—à—Ä—É—Ç–æ–≤=${stats.datasetStats?.routes || 0}, —Ä–µ–π—Å–æ–≤=${stats.datasetStats?.flights || 0}`);
console.log(`   –ì—Ä–∞—Ñ: —É–∑–ª–æ–≤=${stats.graphStats?.nodes || 0}, —Ä—ë–±–µ—Ä=${stats.graphStats?.edges || 0}`);
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –≤ BuildRouteUseCase

**–§–∞–π–ª:** `backend/src/application/route-builder/BuildRouteUseCase.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–¥–∞–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ —á–µ—Ä–µ–∑ `TransportDataService.loadData()` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `RouteGraphManager.getInstance().getDataset()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –µ–¥–∏–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `RouteGraphManager.getInstance().getGraph()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –µ–¥–∏–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ

**–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –í–ê–ñ–ù–û: –ü–æ–ª—É—á–∞–µ–º –µ–¥–∏–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –∏ –≥—Ä–∞—Ñ, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
// –≠—Ç–∏ –¥–∞—Ç–∞—Å–µ—Ç –∏ –≥—Ä–∞—Ñ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –≤—Å–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –º–∞—Ä—à—Ä—É—Ç—ã
// –ù–ï –∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∑–∞–Ω–æ–≤–æ - –∏—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
const transportDataset = await graphManager.getDataset();
let graph = await graphManager.getGraph();
```

### 4. –£–ª—É—á—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–µ—à–∞

**–§–∞–π–ª:** `backend/src/application/data-loading/TransportDataService.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–µ—à–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –∫–µ—à–µ
- –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –∫–µ—à

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```typescript
// –ü—Ä–∏ cache hit
console.log(`[TransportDataService] ‚úÖ –ö–ï–® –ù–ê–ô–î–ï–ù! –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç:`);
console.log(`[TransportDataService]   - –û—Å—Ç–∞–Ω–æ–≤–æ–∫: ${cachedDataset.stops.length} (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö: ${virtualStops.length})`);
console.log(`[TransportDataService]   - –ú–∞—Ä—à—Ä—É—Ç–æ–≤: ${cachedDataset.routes.length} (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö: ${virtualRoutes.length})`);

// –ü—Ä–∏ cache miss
console.log(`[TransportDataService] ‚ùå –ö–ï–® –ù–ï –ù–ê–ô–î–ï–ù. –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤...`);

// –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤ –∫–µ—à
console.log(`[TransportDataService] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –≤ –∫–µ—à:`);
console.log(`[TransportDataService]   - –û—Å—Ç–∞–Ω–æ–≤–æ–∫: ${dataset.stops.length} (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö: ${virtualStops.length})`);
console.log(`[TransportDataService] ‚úÖ –î–∞—Ç–∞—Å–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –∫–µ—à`);
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–§–∞–π–ª:** `backend/src/application/route-builder/RouteGraphManager.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –µ—Å–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

**–ö–æ–¥:**
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
const virtualStops = this.dataset.stops.filter(s => s.metadata?._virtual === true);
const virtualRoutes = this.dataset.routes.filter(r => r.metadata?._virtual === true);
console.log(`[RouteGraphManager] –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ: ${virtualStops.length}`);
console.log(`[RouteGraphManager] –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ: ${virtualRoutes.length}`);

if (virtualStops.length === 0) {
  console.log('[RouteGraphManager] –í–ù–ò–ú–ê–ù–ò–ï: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ!');
}
if (virtualRoutes.length === 0) {
  console.log('[RouteGraphManager] –í–ù–ò–ú–ê–ù–ò–ï: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ!');
}
```

## –ì–∞—Ä–∞–Ω—Ç–∏–∏ —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –û–¥–∏–Ω –¥–∞—Ç–∞—Å–µ—Ç –Ω–∞ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –î–∞—Ç–∞—Å–µ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ—Ç –∂–µ –¥–∞—Ç–∞—Å–µ—Ç
- –î–∞—Ç–∞—Å–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫–µ—à —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏

### ‚úÖ –û–¥–∏–Ω –≥—Ä–∞—Ñ –Ω–∞ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ì—Ä–∞—Ñ —Å—Ç—Ä–æ–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏–∑ –µ–¥–∏–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞
- –ì—Ä–∞—Ñ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, –Ω–æ –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç—Å—è
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ—Ç –∂–µ –≥—Ä–∞—Ñ
- PathFinder –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–ª–Ω—ã–º –≥—Ä–∞—Ñ–æ–º

### ‚úÖ –ö–µ—à –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ: cache miss ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫–µ—à
- –ü—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö: cache hit ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞
- –ö–µ—à —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞—Ç–∞—Å–µ—Ç —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–µ—à–∞

### ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞—Ç–∞—Å–µ—Ç–∞
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞—Ç–∞—Å–µ—Ç–∞
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–µ—à
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤–æ –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

## –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞:
1. `index.ts` –≤—ã–∑—ã–≤–∞–µ—Ç `RouteGraphManager.getInstance().initialize()`
2. `RouteGraphManager` —Å–æ–∑–¥–∞—ë—Ç `TransportDataService`
3. `TransportDataService.loadData()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–µ—à
4. –ï—Å–ª–∏ –∫–µ—à –ø—É—Å—Ç ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ ‚Üí –ø—Ä–∏–º–µ–Ω—è–µ—Ç recovery ‚Üí —Å–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∫–µ—à
5. `RouteGraphManager` –ø–æ–ª—É—á–∞–µ—Ç –¥–∞—Ç–∞—Å–µ—Ç —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏
6. `RouteGraphManager` —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞
7. –î–∞—Ç–∞—Å–µ—Ç –∏ –≥—Ä–∞—Ñ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏

### –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –º–∞—Ä—à—Ä—É—Ç–∞:
1. `BuildRouteUseCase` –ø–æ–ª—É—á–∞–µ—Ç `RouteGraphManager.getInstance()`
2. –í—ã–∑—ã–≤–∞–µ—Ç `graphManager.getDataset()` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–¥–∏–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç
3. –í—ã–∑—ã–≤–∞–µ—Ç `graphManager.getGraph()` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–¥–∏–Ω—ã–π –≥—Ä–∞—Ñ
4. `PathFinder` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω—ã–π –≥—Ä–∞—Ñ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏
5. –ù–ï –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞–Ω–æ–≤–æ
6. –ù–ï –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç –≥—Ä–∞—Ñ

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:
- ‚úÖ –î–∞—Ç–∞—Å–µ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
- ‚úÖ –ì—Ä–∞—Ñ —Å—Ç—Ä–æ–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏–∑ –ø–æ–ª–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ—Ç –∂–µ –¥–∞—Ç–∞—Å–µ—Ç –∏ –≥—Ä–∞—Ñ
- ‚úÖ –ö–µ—à —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ (cache hit –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞)
- ‚úÖ PathFinder –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏—Ç –≤—Å–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –¥–ª—è –ª—é–±—ã—Ö –ø–∞—Ä –≥–æ—Ä–æ–¥–æ–≤

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –õ–æ–≥–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞:
```
[RouteGraphManager] –ù–∞—á–∞–ª–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏...
[RouteGraphManager] –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞...
[TransportDataService] ‚ùå –ö–ï–® –ù–ï –ù–ê–ô–î–ï–ù. –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤...
[TransportDataService] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –≤ –∫–µ—à:
[TransportDataService]   - –û—Å—Ç–∞–Ω–æ–≤–æ–∫: X (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö: Y)
[TransportDataService]   - –ú–∞—Ä—à—Ä—É—Ç–æ–≤: X (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö: Y)
[TransportDataService] ‚úÖ –î–∞—Ç–∞—Å–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –∫–µ—à
[RouteGraphManager] –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ: Y
[RouteGraphManager] –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ: Y
[RouteGraphManager] –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞...
[RouteGraphManager] –ì—Ä–∞—Ñ –ø–æ—Å—Ç—Ä–æ–µ–Ω: —É–∑–ª–æ–≤=X, —Ä—ë–±–µ—Ä=Y
‚úÖ –ï–¥–∏–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –∏ –≥—Ä–∞—Ñ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
```

### –õ–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –º–∞—Ä—à—Ä—É—Ç–∞:
```
[BuildRouteUseCase] ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ï–î–ò–ù–´–ô –¥–∞—Ç–∞—Å–µ—Ç (–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–Ω–æ–≤–æ):
[BuildRouteUseCase]   - –û—Å—Ç–∞–Ω–æ–≤–æ–∫: X (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö: Y)
[BuildRouteUseCase]   - –ú–∞—Ä—à—Ä—É—Ç–æ–≤: X (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö: Y)
[BuildRouteUseCase] ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ï–î–ò–ù–´–ô –≥—Ä–∞—Ñ: —É–∑–ª–æ–≤=X, —Ä—ë–±–µ—Ä=Y
[PathFinder] –ü–æ–∏—Å–∫ –ø—É—Ç–∏: fromStopId="..." -> toStopId="..."
[PathFinder] –¶–µ–ª–µ–≤–æ–π —É–∑–µ–ª –Ω–∞–π–¥–µ–Ω! –ò—Ç–µ—Ä–∞—Ü–∏–π: X, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: Y
[PathFinder] –ü—É—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω: X —Å–µ–≥–º–µ–Ω—Ç–æ–≤
```

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `backend/src/application/route-builder/RouteGraphManager.ts` - —É–ª—É—á—à–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
2. `backend/src/index.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è RouteGraphManager –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
3. `backend/src/application/route-builder/BuildRouteUseCase.ts` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏ –≥—Ä–∞—Ñ–∞
4. `backend/src/application/data-loading/TransportDataService.ts` - —É–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–µ—à–∞

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞—Ö –≥–æ—Ä–æ–¥–æ–≤
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–µ—à —Ä–∞–±–æ—Ç–∞–µ—Ç (cache hit –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏, —á—Ç–æ –¥–∞—Ç–∞—Å–µ—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –º–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤–æ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö


